<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>Dias Dashboard</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root {
      --bg: #0a0a0f;
      --card: #13131a;
      --card2: #1c1c26;
      --border: #23233a;
      --accent: #6366f1;
      --accent2: #818cf8;
      --green: #22c55e;
      --yellow: #f59e0b;
      --red: #ef4444;
      --purple: #a855f7;
      --text: #f1f5f9;
      --muted: #64748b;
      --muted2: #94a3b8;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; padding-bottom: 80px; }

    /* HEADER */
    .header { background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e3a8a 100%); padding: 20px 16px 36px; padding-top: calc(20px + var(--safe-top)); position: relative; overflow: hidden; }
    .header::before { content: ''; position: absolute; top: -40px; right: -40px; width: 150px; height: 150px; background: rgba(99,102,241,0.15); border-radius: 50%; }
    .header::after { content: ''; position: absolute; bottom: -20px; left: 0; right: 0; height: 40px; background: var(--bg); border-radius: 50% 50% 0 0 / 100% 100% 0 0; }
    .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; position: relative; z-index: 1; }
    .avatar { width: 44px; height: 44px; border-radius: 50%; background: linear-gradient(135deg, #6366f1, #a855f7); display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; box-shadow: 0 4px 15px rgba(99,102,241,0.4); }
    .header-title { font-size: 20px; font-weight: 700; }
    .header-sub { font-size: 13px; color: rgba(255,255,255,0.55); margin-top: 2px; }
    .revenue-card { background: rgba(255,255,255,0.07); border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 14px; padding: 14px 16px; display: flex; justify-content: space-between; align-items: center; position: relative; z-index: 1; }
    .revenue-label { font-size: 11px; color: rgba(255,255,255,0.45); margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px; }
    .revenue-amount { font-size: 26px; font-weight: 800; letter-spacing: -0.5px; }
    .revenue-badge { background: rgba(34,197,94,0.2); color: #4ade80; padding: 5px 12px; border-radius: 20px; font-size: 11px; font-weight: 600; border: 1px solid rgba(34,197,94,0.2); }

    /* NAV */
    .nav { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(13,13,20,0.95); border-top: 1px solid var(--border); backdrop-filter: blur(20px); display: flex; z-index: 100; padding-bottom: env(safe-area-inset-bottom); }
    .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 10px 0 8px; cursor: pointer; font-size: 10px; color: var(--muted); transition: all 0.2s; }
    .nav-item.active { color: var(--accent2); }
    .nav-item.active .nav-icon { transform: scale(1.1); }
    .nav-icon { font-size: 20px; margin-bottom: 2px; transition: transform 0.2s; }

    /* PAGES */
    :root { --safe-top: 0px; --safe-bottom: 0px; }
    .page { display: none; padding: 16px; padding-top: calc(16px + var(--safe-top)); }
    .page.active { display: block; }
    /* Home page has its own header that handles top inset */
    #page-home { padding-top: 0; }

    /* SECTIONS */
    .section-title { font-size: 11px; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; margin-top: 22px; display: flex; align-items: center; gap: 6px; }
    .section-title:first-child { margin-top: 4px; }
    .section-title::before { content: ''; width: 3px; height: 12px; background: var(--accent); border-radius: 2px; }

    /* CARDS */
    .card { background: var(--card); border-radius: 14px; padding: 14px; margin-bottom: 10px; border: 1px solid var(--border); box-shadow: 0 2px 12px rgba(0,0,0,0.3); transition: border-color 0.2s; }
    .card:active { border-color: var(--accent); }
    .card-row { display: flex; justify-content: space-between; align-items: center; }
    .card-title { font-size: 15px; font-weight: 600; }
    .card-sub { font-size: 13px; color: var(--muted2); margin-top: 5px; }

    /* BADGES */
    .badge { font-size: 11px; font-weight: 600; padding: 3px 9px; border-radius: 6px; }
    .badge-blue { background: rgba(99,102,241,0.15); color: #818cf8; }
    .badge-green { background: rgba(34,197,94,0.15); color: #4ade80; }
    .badge-yellow { background: rgba(245,158,11,0.15); color: #fbbf24; }
    .badge-gray { background: rgba(100,116,139,0.12); color: var(--muted); }
    .badge-purple { background: rgba(168,85,247,0.15); color: #c084fc; }

    /* STATS */
    .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
    .stat-card { background: var(--card); border-radius: 14px; padding: 14px; border: 1px solid var(--border); box-shadow: 0 2px 12px rgba(0,0,0,0.3); }
    .stat-value { font-size: 22px; font-weight: 800; margin-bottom: 2px; letter-spacing: -0.5px; }
    .stat-label { font-size: 11px; color: var(--muted); text-transform: uppercase; letter-spacing: 0.3px; }

    /* KANBAN */
    .kanban-col { margin-bottom: 20px; }
    .kanban-header { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
    .kanban-dot { width: 8px; height: 8px; border-radius: 50%; }
    .kanban-col-title { font-size: 14px; font-weight: 600; }
    .kanban-count { background: var(--card2); color: var(--muted); font-size: 11px; padding: 2px 7px; border-radius: 10px; }
    .task-card { background: var(--card); border-radius: 12px; padding: 12px; margin-bottom: 8px; border: 1px solid var(--border); border-left: 3px solid transparent; box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
    .task-title { font-size: 14px; font-weight: 500; margin-bottom: 4px; }
    .task-meta { font-size: 12px; color: var(--muted); }

    /* TODAY TASKS */
    .todo-item { background: var(--card); border-radius: 12px; padding: 13px 14px; margin-bottom: 8px; border: 1px solid var(--border); box-shadow: 0 2px 8px rgba(0,0,0,0.2); display: flex; align-items: center; gap: 12px; cursor: pointer; transition: border-color 0.2s; }
    .todo-item:active { border-color: var(--accent); }
    .todo-cb { width: 20px; height: 20px; border-radius: 6px; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: all 0.2s; }
    .todo-cb.checked { background: var(--accent); border-color: var(--accent); }
    .todo-cb.checked::after { content: '‚úì'; color: white; font-size: 12px; font-weight: 700; }
    .todo-text { flex: 1; }
    .todo-title { font-size: 14px; font-weight: 500; }
    .todo-sub { font-size: 12px; color: var(--muted); margin-top: 2px; }
    .todo-item.done .todo-title { text-decoration: line-through; color: var(--muted); }

    /* TEAM */
    .team-item { background: var(--card); border-radius: 12px; padding: 13px 14px; margin-bottom: 8px; border: 1px solid var(--border); box-shadow: 0 2px 8px rgba(0,0,0,0.2); display: flex; align-items: center; gap: 12px; }
    .team-icon { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; flex-shrink: 0; }
    .team-icon-morty { background: linear-gradient(135deg, #312e81, #6366f1); }
    .team-icon-w1 { background: linear-gradient(135deg, #065f46, #059669); }
    .team-icon-w2 { background: linear-gradient(135deg, #7c2d12, #ea580c); }
    .team-info { flex: 1; }
    .team-name { font-size: 14px; font-weight: 600; }
    .team-handle { font-size: 12px; color: var(--muted); margin-top: 1px; }
    .team-status { font-size: 12px; font-weight: 500; }

    /* STATUS */
    .status-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--green); box-shadow: 0 0 8px var(--green); animation: pulse 2s infinite; flex-shrink: 0; }
    @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.3} }
    .expo-row { display: flex; align-items: center; gap: 10px; padding: 13px 14px; background: var(--card); border-radius: 12px; border: 1px solid var(--border); margin-bottom: 8px; }

    /* PROFILE */
    .profile-avatar { width: 72px; height: 72px; border-radius: 50%; background: linear-gradient(135deg, #6366f1, #a855f7); display: flex; align-items: center; justify-content: center; font-size: 28px; font-weight: 700; margin: 0 auto 12px; box-shadow: 0 8px 24px rgba(99,102,241,0.35); }
    .profile-name { text-align: center; font-size: 20px; font-weight: 700; margin-bottom: 4px; }
    .profile-role { text-align: center; font-size: 14px; color: var(--muted); margin-bottom: 20px; }
    .info-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--border); font-size: 14px; }
    .info-row:last-child { border-bottom: none; }
    .info-key { color: var(--muted); }
    .info-val { font-weight: 500; }

    /* DIVIDER */
    .divider { height: 1px; background: var(--border); margin: 4px 0 14px; }

    /* FACTORY PAGE */
    .factory-header { text-align: center; padding: 16px 0 8px; }
    .factory-title { font-size: 18px; font-weight: 800; letter-spacing: 1px; color: #a78bfa; text-shadow: 0 0 12px rgba(167,139,250,0.5); }
    .factory-sub { font-size: 12px; color: var(--muted); margin-top: 3px; }

    /* Command Center */
    .cmd-center { background: linear-gradient(135deg, #1e1b4b 0%, #312e81 60%, #1e1b4b 100%); border: 1px solid rgba(99,102,241,0.4); border-radius: 18px; padding: 20px; margin-bottom: 14px; box-shadow: 0 0 24px rgba(99,102,241,0.2); position: relative; overflow: hidden; }
    .cmd-center::before { content: ''; position: absolute; inset: 0; background: repeating-linear-gradient(0deg, transparent, transparent 24px, rgba(99,102,241,0.04) 24px, rgba(99,102,241,0.04) 25px), repeating-linear-gradient(90deg, transparent, transparent 24px, rgba(99,102,241,0.04) 24px, rgba(99,102,241,0.04) 25px); pointer-events: none; }
    .cmd-morty { display: flex; flex-direction: column; align-items: center; position: relative; z-index: 1; }
    .morty-screen { font-size: 48px; line-height: 1; filter: drop-shadow(0 0 12px rgba(99,102,241,0.8)); animation: morty-glow 3s ease-in-out infinite; }
    @keyframes morty-glow { 0%,100%{filter:drop-shadow(0 0 12px rgba(99,102,241,0.8))} 50%{filter:drop-shadow(0 0 20px rgba(167,139,250,1))} }
    .morty-label { font-size: 14px; font-weight: 700; color: #a78bfa; margin-top: 8px; }
    .morty-status { display: flex; align-items: center; gap: 6px; margin-top: 4px; font-size: 12px; color: #4ade80; }
    .morty-status-dot { width: 7px; height: 7px; border-radius: 50%; background: #4ade80; box-shadow: 0 0 8px #4ade80; animation: pulse 2s infinite; }
    .cmd-screen-art { font-family: monospace; font-size: 10px; color: rgba(99,102,241,0.6); margin-top: 10px; line-height: 1.4; text-align: center; letter-spacing: 1px; }

    /* Workers */
    .workers-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 14px; }
    .worker-card { background: var(--card); border-radius: 14px; padding: 14px; border: 1px solid var(--border); position: relative; overflow: hidden; transition: border-color 0.3s; }
    .worker-card.busy { border-color: rgba(99,102,241,0.5); box-shadow: 0 0 16px rgba(99,102,241,0.12); }
    .worker-card.idle { border-color: var(--border); }
    .worker-avatar { font-size: 30px; text-align: center; margin-bottom: 6px; }
    .worker-name { font-size: 13px; font-weight: 700; text-align: center; }
    .worker-handle { font-size: 10px; color: var(--muted); text-align: center; margin-bottom: 8px; }
    .worker-task { font-size: 11px; color: var(--muted2); background: var(--card2); border-radius: 8px; padding: 6px 8px; margin-bottom: 8px; min-height: 36px; line-height: 1.4; }
    .worker-task.active-task { color: #c4b5fd; background: rgba(99,102,241,0.1); border: 1px solid rgba(99,102,241,0.2); }
    .progress-bar-wrap { height: 4px; background: var(--border); border-radius: 4px; overflow: hidden; }
    .progress-bar-fill { height: 100%; border-radius: 4px; transition: width 1s ease; }
    .progress-bar-fill.p-active { background: linear-gradient(90deg, #6366f1, #a78bfa); box-shadow: 0 0 8px rgba(99,102,241,0.6); animation: progress-glow 2s ease-in-out infinite; }
    .progress-bar-fill.p-idle { background: var(--muted); }
    @keyframes progress-glow { 0%,100%{box-shadow:0 0 4px rgba(99,102,241,0.4)} 50%{box-shadow:0 0 12px rgba(167,139,250,0.8)} }
    .progress-label { font-size: 10px; color: var(--muted); text-align: right; margin-top: 3px; }

    /* Worker status badge */
    .worker-badge { font-size: 10px; font-weight: 600; padding: 2px 7px; border-radius: 5px; display: inline-block; margin-bottom: 6px; }
    .worker-badge.wbusy { background: rgba(99,102,241,0.2); color: #818cf8; }
    .worker-badge.widle { background: rgba(100,116,139,0.12); color: var(--muted); }

    /* Activity Log */
    .log-box { background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 14px; }
    .log-title { font-size: 11px; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; display: flex; align-items: center; gap: 6px; }
    .log-title::before { content: ''; width: 3px; height: 12px; background: var(--accent); border-radius: 2px; }
    .log-entry { font-size: 12px; padding: 7px 0; border-bottom: 1px solid var(--border); line-height: 1.5; color: var(--muted2); display: flex; gap: 8px; align-items: flex-start; }
    .log-entry:last-child { border-bottom: none; }
    .log-entry .log-who { color: #a78bfa; font-weight: 600; white-space: nowrap; }
    .log-entry .log-arrow { color: var(--muted); }
    .log-entry .log-msg { flex: 1; }
    .log-time { font-size: 10px; color: var(--muted); white-space: nowrap; }

    /* Scan line animation on cmd center */
    .scan-line { position: absolute; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, rgba(99,102,241,0.4), transparent); animation: scan 4s linear infinite; pointer-events: none; z-index: 2; }
    @keyframes scan { 0%{top:-2px;opacity:0} 10%{opacity:1} 90%{opacity:1} 100%{top:100%;opacity:0} }

    /* MAP PAGE */
    .map-header { text-align: center; padding: 12px 0 16px; }
    .map-title { font-size: 18px; font-weight: 800; letter-spacing: 0.5px; }
    .map-sub { font-size: 12px; color: var(--muted); margin-top: 3px; }
    .map-canvas { position: relative; width: 100%; min-height: 480px; }
    .map-center { display: flex; justify-content: center; margin-bottom: 24px; }
    .map-node { border-radius: 16px; padding: 12px 16px; text-align: center; cursor: pointer; transition: all 0.2s; position: relative; user-select: none; -webkit-tap-highlight-color: transparent; }
    .map-node:active { transform: scale(0.96); }
    .map-node-root { background: linear-gradient(135deg, #312e81, #6366f1); border: 2px solid rgba(99,102,241,0.6); box-shadow: 0 0 24px rgba(99,102,241,0.35); min-width: 120px; }
    .map-node-green { background: rgba(34,197,94,0.12); border: 1.5px solid rgba(34,197,94,0.4); }
    .map-node-red { background: rgba(239,68,68,0.12); border: 1.5px solid rgba(239,68,68,0.4); }
    .map-node-yellow { background: rgba(245,158,11,0.12); border: 1.5px solid rgba(245,158,11,0.4); }
    .map-node-title { font-size: 13px; font-weight: 700; }
    .map-node-sub { font-size: 11px; opacity: 0.7; margin-top: 2px; }
    .map-node-status { font-size: 10px; font-weight: 600; margin-top: 6px; padding: 2px 8px; border-radius: 20px; display: inline-block; }
    .map-status-green { background: rgba(34,197,94,0.2); color: #4ade80; }
    .map-status-red { background: rgba(239,68,68,0.2); color: #f87171; }
    .map-status-yellow { background: rgba(245,158,11,0.2); color: #fbbf24; }
    .map-connector { display: flex; justify-content: center; }
    .map-line-v { width: 2px; height: 20px; background: var(--border); }
    .map-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 8px; }
    .map-row-lines { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 0; }
    .map-h-line { height: 2px; background: var(--border); margin: 0 auto; width: 60%; }
    .map-line-col { display: flex; flex-direction: column; align-items: center; }

    /* CHART */
    .chart-wrap { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 14px 16px; margin: 12px 0 4px; box-shadow: 0 2px 12px rgba(0,0,0,0.3); }
    .chart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .chart-label { font-size: 11px; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; }
    .chart-nav { display: flex; align-items: center; gap: 8px; }
    .chart-nav-btn { background: var(--card2); border: 1px solid var(--border); border-radius: 8px; color: var(--muted2); font-size: 13px; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; cursor: pointer; -webkit-tap-highlight-color: transparent; }
    .chart-nav-btn:active { background: var(--accent); color: white; border-color: var(--accent); }
    .chart-week { font-size: 12px; color: var(--muted2); }
    .chart-total { font-size: 13px; font-weight: 700; color: var(--accent2); }
    .chart-svg-wrap { width: 100%; overflow: hidden; }
    .chart-days { display: flex; justify-content: space-between; margin-top: 6px; }
    .chart-day { flex: 1; text-align: center; font-size: 10px; color: var(--muted); }
    .chart-day.today { color: var(--accent2); font-weight: 700; }
    .chart-day-val { font-size: 9px; color: var(--muted); margin-top: 2px; }

    /* SYSTEM MAP */
    .sys-section-label { font-size: 11px; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; margin: 4px 0 10px; display: flex; align-items: center; gap: 6px; }
    .sys-section-label::before { content:''; width:3px; height:12px; background:var(--accent); border-radius:2px; }
    .sys-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 0; }
    .sys-node { border-radius: 14px; padding: 12px 8px; text-align: center; cursor: pointer; transition: transform 0.15s; -webkit-tap-highlight-color: transparent; border: 1.5px solid transparent; }
    .sys-node:active { transform: scale(0.95); }
    .sys-icon { font-size: 20px; margin-bottom: 4px; }
    .sys-name { font-size: 12px; font-weight: 600; line-height: 1.3; }
    .sys-status { font-size: 10px; font-weight: 600; margin-top: 6px; padding: 2px 6px; border-radius: 20px; display: inline-block; }
    .sys-status-green { background: rgba(34,197,94,0.2); color: #4ade80; }
    .sys-status-yellow { background: rgba(245,158,11,0.2); color: #fbbf24; }
    .sys-status-red { background: rgba(239,68,68,0.2); color: #f87171; }
    .sys-status-gray { background: rgba(100,116,139,0.15); color: var(--muted); }
    .sys-red { background: rgba(239,68,68,0.1); border-color: rgba(239,68,68,0.3); }
    .sys-purple { background: rgba(168,85,247,0.1); border-color: rgba(168,85,247,0.3); }
    .sys-yellow { background: rgba(245,158,11,0.1); border-color: rgba(245,158,11,0.3); }
    .sys-green { background: rgba(34,197,94,0.1); border-color: rgba(34,197,94,0.3); }
    .sys-blue { background: rgba(99,102,241,0.1); border-color: rgba(99,102,241,0.3); }
    .sys-muted { background: var(--card2); border-color: var(--border); }
    .sys-connector { display: flex; justify-content: center; margin: 10px 0; }
    .sys-line { width: 2px; height: 28px; background: linear-gradient(to bottom, var(--accent), var(--border)); border-radius: 2px; }
    .sys-center-node { background: linear-gradient(135deg, #1e3a5f, #1e4080); border: 1.5px solid rgba(99,102,241,0.5); border-radius: 16px; padding: 14px 16px; display: flex; align-items: center; gap: 12px; cursor: pointer; box-shadow: 0 0 20px rgba(99,102,241,0.15); -webkit-tap-highlight-color: transparent; }
    .sys-center-node:active { transform: scale(0.98); }
    .sys-center-title { font-size: 16px; font-weight: 800; letter-spacing: 0.5px; }
    .sys-center-sub { font-size: 12px; color: var(--muted2); margin-top: 2px; }
    .sys-col-wrap { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 14px; }
    .sys-col-label { font-size: 13px; font-weight: 700; margin-bottom: 2px; }
    .sys-col-sub { font-size: 11px; color: var(--muted); margin-bottom: 12px; }
    .sys-openclaw-node { background: linear-gradient(135deg, #1e1b4b 0%, #312e81 60%, #1e1b4b 100%); border: 1.5px solid rgba(99,102,241,0.6); border-radius: 16px; padding: 14px 16px; display: flex; align-items: center; gap: 14px; cursor: pointer; box-shadow: 0 0 24px rgba(99,102,241,0.2); -webkit-tap-highlight-color: transparent; }
    .sys-openclaw-node:active { transform: scale(0.98); }

    /* ENERGY */
    .energy-node { position: relative; display: flex; justify-content: center; margin: 4px 0 20px; cursor: pointer; -webkit-tap-highlight-color: transparent; }
    .energy-pulse { position: absolute; inset: -12px; border-radius: 50%; background: radial-gradient(circle, rgba(251,191,36,0.15) 0%, transparent 70%); animation: energy-breathe 2.5s ease-in-out infinite; }
    @keyframes energy-breathe { 0%,100%{transform:scale(0.9);opacity:0.6} 50%{transform:scale(1.1);opacity:1} }
    .energy-inner { background: linear-gradient(135deg, #3d2a00, #78350f); border: 1.5px solid rgba(251,191,36,0.5); border-radius: 50%; width: 110px; height: 110px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 2px; box-shadow: 0 0 30px rgba(251,191,36,0.25); position: relative; z-index: 1; }
    .energy-title { font-size: 13px; font-weight: 800; color: #fbbf24; letter-spacing: 1px; }
    .energy-sub { font-size: 10px; color: rgba(251,191,36,0.6); text-align: center; }
    .energy-flow { display: flex; flex-direction: column; align-items: center; gap: 3px; height: 40px; justify-content: center; }
    .energy-dot { width: 6px; height: 6px; border-radius: 50%; background: #fbbf24; box-shadow: 0 0 6px #fbbf24; animation: flow-up 1.2s ease-in-out infinite; opacity: 0; }
    @keyframes flow-up { 0%{transform:translateY(12px);opacity:0} 30%{opacity:1} 70%{opacity:1} 100%{transform:translateY(-12px);opacity:0} }

    /* Detail panel */
    .map-detail { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 16px; margin-top: 16px; display: none; }
    .map-detail.open { display: block; animation: fadeIn 0.2s ease; }
    @keyframes fadeIn { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
    .map-detail-title { font-size: 15px; font-weight: 700; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
    .why-item { display: flex; gap: 10px; padding: 8px 0; border-bottom: 1px solid var(--border); font-size: 13px; }
    .why-item:last-child { border-bottom: none; }
    .why-num { color: var(--accent2); font-weight: 700; min-width: 18px; }
    .why-text { color: var(--muted2); }
    .map-tasks { margin-top: 10px; }
    .map-task-item { background: var(--card2); border-radius: 10px; padding: 10px 12px; margin-bottom: 6px; font-size: 13px; display: flex; align-items: center; gap: 8px; }
    .map-task-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
  </style>
</head>
<body>

<!-- HOME PAGE -->
<div id="page-home" class="page active">
  <div class="header">
    <div class="header-top">
      <div>
        <div class="header-title">–ü—Ä–∏–≤–µ—Ç, –î–∏–∞—Å üëã</div>
        <div class="header-sub">–ê—Å—Ç–∞–Ω–∞ ¬∑ Founder</div>
      </div>
      <div class="avatar">–î</div>
    </div>
    <div class="revenue-card">
      <div>
        <div class="revenue-label">Revenue</div>
        <div class="revenue-amount">80,000 ‚Ç∏</div>
      </div>
      <div class="revenue-badge">+–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–æ—Å—Ç</div>
    </div>
  </div>

  <div style="padding-top:28px">

    <!-- CHART -->
    <div class="chart-wrap">
      <div class="chart-header">
        <span class="chart-label">üìà –î–æ—Ö–æ–¥</span>
        <div class="chart-nav">
          <div class="chart-nav-btn" onclick="chartPrev()">‚óÄ</div>
          <span class="chart-week" id="chart-week-label">‚Äî</span>
          <div class="chart-nav-btn" onclick="chartNext()">‚ñ∂</div>
        </div>
      </div>
      <div class="chart-total" id="chart-total">–ò—Ç–æ–≥–æ: 0 ‚Ç∏</div>
      <div class="chart-svg-wrap">
        <svg id="chart-svg" width="100%" height="80" viewBox="0 0 280 80" preserveAspectRatio="none"></svg>
      </div>
      <div class="chart-days" id="chart-days"></div>
    </div>

    <!-- –°–ï–ì–û–î–ù–Ø -->
    <div class="section-title">–°–µ–≥–æ–¥–Ω—è</div>

    <div class="todo-item" onclick="toggleTodo(this)">
      <div class="todo-cb"></div>
      <div class="todo-text">
        <div class="todo-title">x5-marketing: App Store</div>
        <div class="todo-sub">–ë–∏–ª–¥ #12 –≤ –æ—á–µ—Ä–µ–¥–∏</div>
      </div>
      <span class="badge badge-blue">üî•</span>
    </div>
    <div class="todo-item" onclick="toggleTodo(this)">
      <div class="todo-cb"></div>
      <div class="todo-text">
        <div class="todo-title">Jewelry: –ø—Ä–∞–≤–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞</div>
        <div class="todo-sub">–ñ–¥—ë–º —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π</div>
      </div>
    </div>
    <div class="todo-item" onclick="toggleTodo(this)">
      <div class="todo-cb"></div>
      <div class="todo-text">
        <div class="todo-title">KazLog: –ø—Ä–∞–≤–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞</div>
        <div class="todo-sub">Vite + React ¬∑ —Å–∞–π—Ç –∫–ª–∏–µ–Ω—Ç–∞</div>
      </div>
    </div>
    <div class="todo-item" onclick="toggleTodo(this)">
      <div class="todo-cb"></div>
      <div class="todo-text">
        <div class="todo-title">–°—Ç—Ä—É–∫—Ç—É—Ä–∞: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–æ—Ä–∫–µ—Ä–æ–≤</div>
        <div class="todo-sub">–ö–æ–Ω—Ñ–∏–≥ –∞–≥–µ–Ω—Ç–æ–≤ –∏ –∑–∞–¥–∞—á–∏</div>
      </div>
      <span class="badge badge-purple">‚öôÔ∏è</span>
    </div>

    <!-- –ó–ê–í–¢–†–ê -->
    <div class="section-title">–ó–∞–≤—Ç—Ä–∞</div>
    <div class="card" style="border-left: 3px solid var(--yellow);">
      <div class="card-row">
        <div class="card-title">Playa</div>
        <span class="badge badge-yellow">–û—Ç–ª–æ–∂–µ–Ω–æ</span>
      </div>
      <div class="card-sub">–Æ–≤–µ–ª–∏—Ä–Ω—ã–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å ¬∑ Expo + Supabase + Kaspi</div>
    </div>

    <!-- –ö–û–ú–ê–ù–î–ê -->
    <div class="section-title">–ö–æ–º–∞–Ω–¥–∞</div>
    <div class="team-item">
      <div class="team-icon team-icon-morty">ü§ñ</div>
      <div class="team-info">
        <div class="team-name">Evil Morty</div>
        <div class="team-handle">@testDiss21bot</div>
      </div>
      <div class="team-status" style="color:var(--green)">‚úÖ Active</div>
    </div>
    <div class="team-item">
      <div class="team-icon team-icon-w1">‚ö°</div>
      <div class="team-info">
        <div class="team-name">Worker 1</div>
        <div class="team-handle">@x5_worker_bot</div>
      </div>
      <div class="team-status" style="color:var(--green)">‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω</div>
    </div>
    <div class="team-item">
      <div class="team-icon team-icon-w2">üíé</div>
      <div class="team-info">
        <div class="team-name">Worker 2</div>
        <div class="team-handle">@jewelry_worker_bot</div>
      </div>
      <div class="team-status" style="color:var(--yellow)">üìã –°–æ–∑–¥–∞–Ω</div>
    </div>

    <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
    <div class="section-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
    <div class="stats-grid">
      <div class="stat-card"><div class="stat-value" style="color:var(--green)">80K ‚Ç∏</div><div class="stat-label">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</div></div>
      <div class="stat-card"><div class="stat-value" style="color:var(--accent2)">4</div><div class="stat-label">–ü—Ä–æ–µ–∫—Ç–æ–≤</div></div>
      <div class="stat-card"><div class="stat-value" style="color:var(--yellow)">2</div><div class="stat-label">–í —Ä–∞–±–æ—Ç–µ</div></div>
      <div class="stat-card"><div class="stat-value" style="color:var(--purple)">3</div><div class="stat-label">–ë–æ—Ç–æ–≤</div></div>
    </div>

  </div>
</div>

<!-- KANBAN PAGE -->
<div id="page-kanban" class="page">
  <div class="kanban-col">
    <div class="kanban-header">
      <div class="kanban-dot" style="background:var(--yellow)"></div>
      <span class="kanban-col-title">–ñ–¥—ë–º</span>
      <span class="kanban-count">1</span>
    </div>
    <div class="task-card" style="border-left-color:var(--yellow)">
      <div class="task-title">–ö–∞–∑–∞—Ö –õ–æ–≥–∏—Å—Ç–∏–∫ ‚Äî –¥–æ–ø –ø—Ä–∞–≤–∫–∏</div>
      <div class="task-meta">–ñ–¥—ë–º –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ ¬∑ –æ—Å–Ω–æ–≤–Ω–æ–µ —Å–¥–µ–ª–∞–Ω–æ 27 —Ñ–µ–≤</div>
    </div>
  </div>
  <div class="kanban-col">
    <div class="kanban-header">
      <div class="kanban-dot" style="background:var(--red)"></div>
      <span class="kanban-col-title">TODO</span>
      <span class="kanban-count">4</span>
    </div>
    <div class="task-card" style="border-left-color:var(--red)">
      <div class="task-title">x5 ‚Üí App Store</div>
      <div class="task-meta">EAS Build #12 ¬∑ —Å–±–æ—Ä–∫–∞ + –ø—É–±–ª–∏–∫–∞—Ü–∏—è</div>
    </div>
    <div class="task-card" style="border-left-color:var(--red)">
      <div class="task-title">Jewelry ‚Äî –ø—Ä–∞–≤–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞</div>
      <div class="task-meta">–ñ–¥—ë–º —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–æ–∫</div>
    </div>
    <div class="task-card" style="border-left-color:var(--red)">
      <div class="task-title">Playa ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
      <div class="task-meta">Expo + Supabase + Kaspi ¬∑ –æ—Ç–ª–æ–∂–µ–Ω–æ</div>
    </div>
    <div class="task-card" style="border-left-color:var(--accent)">
      <div class="task-title">–°—Ç—Ä—É–∫—Ç—É—Ä–∞: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–æ—Ä–∫–µ—Ä–æ–≤</div>
      <div class="task-meta">–ö–æ–Ω—Ñ–∏–≥ –∞–≥–µ–Ω—Ç–æ–≤ —Ñ–∞–±—Ä–∏–∫–∏</div>
    </div>
  </div>
  <div class="kanban-col">
    <div class="kanban-header">
      <div class="kanban-dot" style="background:var(--green)"></div>
      <span class="kanban-col-title">–ì–æ—Ç–æ–≤–æ</span>
      <span class="kanban-count">4</span>
    </div>
    <div class="task-card" style="border-left-color:var(--green)">
      <div class="task-title">–ö–∞–∑–∞—Ö –õ–æ–≥–∏—Å—Ç–∏–∫ ‚Äî –ø—Ä–∞–≤–∫–∏</div>
      <div class="task-meta">3PL, –ø–ª–æ—â–∞–¥–∏, –Ø–Ω–¥–µ–∫—Å –∫–∞—Ä—Ç—ã ¬∑ 27 —Ñ–µ–≤</div>
    </div>
    <div class="task-card" style="border-left-color:var(--green)">
      <div class="task-title">Tailscale</div>
      <div class="task-meta">VPN –Ω–∞—Å—Ç—Ä–æ–µ–Ω ¬∑ –∫–æ–º–ø + iPhone</div>
    </div>
    <div class="task-card" style="border-left-color:var(--green)">
      <div class="task-title">Admin Panel</div>
      <div class="task-meta">Mini App –≤ Telegram ¬∑ GitHub Pages</div>
    </div>
    <div class="task-card" style="border-left-color:var(--green)">
      <div class="task-title">Expo setup</div>
      <div class="task-meta">–õ–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω, QR —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
    </div>
  </div>
</div>

<!-- PROJECTS PAGE -->
<div id="page-projects" class="page">
  <div class="section-title">–ú–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã (–î–∏–∞—Å)</div>
  <div class="card">
    <div class="card-row" style="margin-bottom:8px">
      <div class="card-title">WhatsApp –±–æ—Ç</div>
      <span class="badge badge-blue">üî• –í —Ä–∞–±–æ—Ç–µ</span>
    </div>
    <div class="card-sub">–ê–≤—Ç–æ–∑–≤–æ–Ω–∫–∏ ¬∑ –ø—Ä–æ–¥–∞–∂–∞ ¬∑ –±–∞–∑–∞ –Ω–æ–º–µ—Ä–æ–≤</div>
    <div style="margin-top:10px;font-size:12px;color:var(--accent2)">‚Üí –ü–µ—Ä–≤–∞—è –ø—Ä–æ–¥–∞–∂–∞</div>
  </div>

  <div class="section-title">–ü—Ä–æ–µ–∫—Ç—ã –ê–¥–∏–ª—Ö–∞–Ω–∞</div>
  <div class="card">
    <div class="card-row" style="margin-bottom:8px">
      <div class="card-title">x5-marketing-expo</div>
      <span class="badge badge-blue">üîÑ –ê–∫—Ç–∏–≤–Ω—ã–π</span>
    </div>
    <div class="card-sub" style="font-family:monospace;font-size:12px;margin-bottom:6px">D:\X\Adilkhan\x5-marketing-expo</div>
    <div class="card-sub">Expo :8082 ¬∑ –ë–∏–ª–¥ #12 –≤ App Store –æ—á–µ—Ä–µ–¥–∏</div>
    <div style="margin-top:10px;font-size:12px;color:var(--accent2)">‚Üí App Store –ø—É–±–ª–∏–∫–∞—Ü–∏—è</div>
  </div>
  <div class="card">
    <div class="card-row" style="margin-bottom:8px">
      <div class="card-title">Playa</div>
      <span class="badge badge-yellow">üìã –û—Ç–ª–æ–∂–µ–Ω–æ</span>
    </div>
    <div class="card-sub">Expo + Supabase + Kaspi payments ¬∑ –∑–∞–≤—Ç—Ä–∞</div>
  </div>
  <div class="card">
    <div class="card-row" style="margin-bottom:8px">
      <div class="card-title">Jewelry —Å–∞–π—Ç</div>
      <span class="badge badge-yellow">üîß –ü—Ä–∞–≤–∫–∏</span>
    </div>
    <div class="card-sub">–°–∞–π—Ç-–≤–∏–∑–∏—Ç–∫–∞ ¬∑ –ø—Ä–∞–≤–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞</div>
  </div>
  <div class="card">
    <div class="card-row" style="margin-bottom:8px">
      <div class="card-title">–ö–∞–∑–∞—Ö –õ–æ–≥–∏—Å—Ç–∏–∫</div>
      <span class="badge badge-yellow">üîß –ü—Ä–∞–≤–∫–∏</span>
    </div>
    <div class="card-sub">Vite + React ¬∑ –ø—Ä–∞–≤–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞</div>
  </div>

  <div class="section-title">Expo</div>
  <div class="expo-row">
    <div class="status-dot"></div>
    <div>
      <div style="font-size:14px;font-weight:600">Expo —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
      <div style="font-size:12px;color:var(--muted)">192.168.3.8:8082</div>
    </div>
  </div>
</div>

<!-- MAP PAGE -->
<div id="page-map" class="page">
  <div class="map-header">
    <div class="map-title">üìç –ö–∞—Ä—Ç–∞ —Å–∏—Å—Ç–µ–º—ã</div>
    <div class="map-sub">–†–∞—Å—Ö–æ–¥—ã ‚Üí –ö–∞—Å–ø–∏ ‚Üí –î–æ—Ö–æ–¥—ã</div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ –†–ê–°–•–û–î–´ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="sys-section-label">üì§ –†–ê–°–•–û–î–´</div>
  <div class="sys-row">
    <div class="sys-node sys-red" onclick="showDetail('exp-must')">
      <div class="sys-icon">üè†</div>
      <div class="sys-name">–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ</div>
      <div class="sys-status sys-status-red" id="exp-must-val">‚Äî</div>
    </div>
    <div class="sys-node sys-purple" onclick="showDetail('exp-biz')">
      <div class="sys-icon">üìà</div>
      <div class="sys-name">–ù–∞ –±–∏–∑–Ω–µ—Å</div>
      <div class="sys-status sys-status-gray" id="exp-biz-val">‚Äî</div>
    </div>
    <div class="sys-node sys-yellow" onclick="showDetail('exp-wish')">
      <div class="sys-icon">‚ú®</div>
      <div class="sys-name">–ù–∞ –∂–µ–ª–∞–Ω–∏—è</div>
      <div class="sys-status sys-status-yellow" id="exp-wish-val">10%</div>
    </div>
  </div>

  <!-- connector -->
  <div class="sys-connector"><div class="sys-line"></div></div>

  <!-- ‚îÄ‚îÄ‚îÄ –ö–ê–°–ü–ò ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="sys-center-node" onclick="showDetail('kaspi')">
    <div style="font-size:22px">üí≥</div>
    <div class="sys-center-title">–ö–ê–°–ü–ò</div>
    <div class="sys-center-sub">–û—Å–Ω–æ–≤–Ω–æ–π –±–∞–Ω–∫</div>
  </div>

  <!-- connector -->
  <div class="sys-connector"><div class="sys-line"></div></div>

  <!-- ‚îÄ‚îÄ‚îÄ –î–û–•–û–î–´ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="sys-section-label">üí∞ –î–û–•–û–î–´</div>

  <!-- –ú–æ–π –±–∏–∑–Ω–µ—Å -->
  <div class="sys-col-wrap" style="margin-bottom:10px">
    <div class="sys-col-label">üè¢ –ú–æ–π –±–∏–∑–Ω–µ—Å</div>
    <div class="sys-col-sub">–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ¬∑ —Ä–∞—Å—Å—ã–ª–∫–∞ ¬∑ –ø—Ä–æ–¥–∞–∂–∞ —Å–∞–π—Ç–æ–≤</div>
    <div class="sys-node sys-green" onclick="showDetail('wa-bot')" style="width:100%">
      <div class="sys-icon">ü§ñ</div>
      <div class="sys-name">WA Bot ‚Äî —Ä–∞—Å—Å—ã–ª–∫–∞</div>
      <div class="sys-status sys-status-yellow">‚ö† –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</div>
    </div>
  </div>

  <!-- –ê–¥–∏–ª—Ö–∞–Ω -->
  <div class="sys-col-wrap">
    <div class="sys-col-label">üíé –ê–¥–∏–ª—Ö–∞–Ω</div>
    <div class="sys-col-sub">–ø–∞—Ä—Ç–Ω—ë—Ä ‚Äî –≤—Å–µ –∫–ª–∏–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ –Ω–µ–≥–æ</div>
    <div class="sys-node sys-blue" onclick="showDetail('x5')" style="width:100%;margin-bottom:8px">
      <div class="sys-icon">‚ö°</div>
      <div class="sys-name">x5 Marketing</div>
      <div class="sys-status sys-status-yellow">‚ö† –í –ø—Ä–æ—Ü–µ—Å—Å–µ</div>
    </div>
    <div class="sys-node sys-muted" onclick="showDetail('playa')" style="width:100%;margin-bottom:8px">
      <div class="sys-icon">ü™©</div>
      <div class="sys-name">Playa</div>
      <div class="sys-status sys-status-gray">–û—Ç–ª–æ–∂–µ–Ω–æ</div>
    </div>
    <div class="sys-node sys-blue" onclick="showDetail('cl-jewelry')" style="width:100%;margin-bottom:8px">
      <div class="sys-icon">üíç</div>
      <div class="sys-name">–ö–ª–∏–µ–Ω—Ç ‚Äî –Æ–≤–µ–ª–∏—Ä–∫–∞</div>
      <div class="sys-status sys-status-green">‚úì –ê–∫—Ç–∏–≤–µ–Ω</div>
    </div>
    <div class="sys-node sys-blue" onclick="showDetail('cl-logistic')" style="width:100%">
      <div class="sys-icon">üöõ</div>
      <div class="sys-name">–ö–ª–∏–µ–Ω—Ç ‚Äî –õ–æ–≥–∏—Å—Ç–∏–∫–∞</div>
      <div class="sys-status sys-status-red">‚õî –ñ–¥—ë–º</div>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div style="height:10px"></div>
  <div class="sys-section-label">üõ† –ò–ù–°–¢–†–£–ú–ï–ù–¢–´</div>
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:0">
    <div class="sys-node sys-purple" onclick="showDetail('openclaw')" style="width:100%">
      <div class="sys-icon">ü§ñ</div>
      <div class="sys-name">OpenClaw</div>
      <div class="sys-status sys-status-gray">–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ¬∑ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
    </div>
    <div class="sys-node sys-muted" onclick="showDetail('vscode')" style="width:100%">
      <div class="sys-icon">üíª</div>
      <div class="sys-name">VS Code</div>
      <div class="sys-status sys-status-gray">—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ¬∑ –∫–æ–¥</div>
    </div>
  </div>

  <!-- animated connector from energy up -->
  <div class="sys-connector" style="margin:12px 0 0">
    <div class="energy-flow">
      <div class="energy-dot" style="animation-delay:0s"></div>
      <div class="energy-dot" style="animation-delay:0.4s"></div>
      <div class="energy-dot" style="animation-delay:0.8s"></div>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ –≠–ù–ï–†–ì–ò–Ø ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="energy-node" onclick="showDetail('energy')">
    <div class="energy-pulse"></div>
    <div class="energy-inner">
      <div style="font-size:32px">‚ö°</div>
      <div class="energy-title">–≠–ù–ï–†–ì–ò–Ø</div>
      <div class="energy-sub">–î–∏–∞—Å ¬∑ –∏—Å—Ç–æ—á–Ω–∏–∫ –≤—Å–µ–≥–æ</div>
    </div>
  </div>

  <!-- Detail panel -->
  <div id="map-detail" class="map-detail" style="margin-top:16px">
    <div class="map-detail-title" id="detail-title">‚Äî</div>
    <div id="detail-why"></div>
    <div id="detail-tasks" style="margin-top:10px"></div>
  </div>

  <div style="height:20px"></div>
</div>

<!-- PROFILE PAGE -->
<div id="page-profile" class="page">
  <div style="padding-top:8px">
    <div class="profile-avatar">–î</div>
    <div class="profile-name">–î–∏–∞—Å</div>
    <div class="profile-role">Founder ¬∑ –ê—Å—Ç–∞–Ω–∞, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</div>

    <div class="card">
      <div class="info-row"><span class="info-key">–í–æ–∑—Ä–∞—Å—Ç</span><span class="info-val">22</span></div>
      <div class="info-row"><span class="info-key">–ì–æ—Ä–æ–¥</span><span class="info-val">–ê—Å—Ç–∞–Ω–∞ GMT+5</span></div>
      <div class="info-row"><span class="info-key">–†–µ–∂–∏–º</span><span class="info-val">00:00 ‚Äì 03:00</span></div>
      <div class="info-row"><span class="info-key">–ü–∞—Ä—Ç–Ω—ë—Ä</span><span class="info-val">–ê–¥–∏–ª—Ö–∞–Ω (—é–≤–µ–ª–∏—Ä–∫–∞)</span></div>
      <div class="info-row"><span class="info-key">Revenue</span><span class="info-val" style="color:var(--green)">80,000 ‚Ç∏</span></div>
      <div class="info-row"><span class="info-key">Telegram</span><span class="info-val">@poebatk</span></div>
    </div>

    <div class="section-title">–°—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–æ–≤</div>
    <div class="card">
      <div class="info-row">
        <span class="info-key">Evil Morty</span>
        <span class="badge badge-green">‚úÖ Online</span>
      </div>
      <div class="info-row">
        <span class="info-key">Worker 1 (x5)</span>
        <span class="badge badge-green">‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω</span>
      </div>
      <div class="info-row">
        <span class="info-key">Worker 2 (Jewelry)</span>
        <span class="badge badge-yellow">üìã –°–æ–∑–¥–∞–Ω</span>
      </div>
    </div>
  </div>
</div>

<!-- FACTORY PAGE -->
<div id="page-factory" class="page">
  <div class="factory-header">
    <div class="factory-title">üè≠ –§–ê–ë–†–ò–ö–ê</div>
    <div class="factory-sub">–ö–æ–º–∞–Ω–¥–Ω—ã–π –ø—É–Ω–∫—Ç ¬∑ –∞–≥–µ–Ω—Ç—ã –≤ —Ä–∞–±–æ—Ç–µ</div>
  </div>

  <!-- Evil Morty Command Center -->
  <div class="cmd-center">
    <div class="scan-line"></div>
    <div class="cmd-morty">
      <div class="morty-screen">ü§ñ</div>
      <div class="morty-label">Evil Morty</div>
      <div class="morty-status">
        <div class="morty-status-dot"></div>
        Online, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç
      </div>
      <div class="cmd-screen-art">
‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì<br>
‚ñà FACTORY CONTROL ‚ñà<br>
‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
      </div>
    </div>
  </div>

  <!-- Workers -->
  <div class="section-title">–í–æ—Ä–∫–µ—Ä—ã</div>
  <div class="workers-grid">
    <!-- Worker 1 -->
    <div class="worker-card busy">
      <div class="worker-avatar">‚ö°</div>
      <div class="worker-name">Worker 1</div>
      <div class="worker-handle">@x5_worker_bot</div>
      <div class="worker-badge wbusy">–í —Ä–∞–±–æ—Ç–µ</div>
      <div class="worker-task active-task">–ë–∏–ª–¥ #12 ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ EAS</div>
      <div class="progress-bar-wrap">
        <div class="progress-bar-fill p-active" style="width:60%"></div>
      </div>
      <div class="progress-label">60%</div>
    </div>
    <!-- Worker 2 -->
    <div class="worker-card idle">
      <div class="worker-avatar">üíé</div>
      <div class="worker-name">Worker 2</div>
      <div class="worker-handle">@jewelry_worker_bot</div>
      <div class="worker-badge widle">–°–≤–æ–±–æ–¥–µ–Ω</div>
      <div class="worker-task">–û–∂–∏–¥–∞–µ—Ç –∑–∞–¥–∞—á—É</div>
      <div class="progress-bar-wrap">
        <div class="progress-bar-fill p-idle" style="width:0%"></div>
      </div>
      <div class="progress-label">0%</div>
    </div>
  </div>

  <!-- Activity Log -->
  <div class="log-box">
    <div class="log-title">–õ–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π</div>
    <div class="log-entry">
      <span class="log-who">[Evil Morty]</span>
      <span class="log-arrow">‚Üí</span>
      <span class="log-msg">–ø–µ—Ä–µ–¥–∞–ª –∑–∞–¥–∞—á—É Worker 1: –∑–∞–ø—É—Å—Ç–∏—Ç—å –ë–∏–ª–¥ #12 EAS</span>
      <span class="log-time">23:41</span>
    </div>
    <div class="log-entry">
      <span class="log-who">[Worker 1]</span>
      <span class="log-arrow">‚Üí</span>
      <span class="log-msg">–ø—Ä–∏–Ω—è–ª –∑–∞–¥–∞—á—É, –±–∏–ª–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –æ—á–µ—Ä–µ–¥—å EAS</span>
      <span class="log-time">23:42</span>
    </div>
    <div class="log-entry">
      <span class="log-who">[Evil Morty]</span>
      <span class="log-arrow">‚Üí</span>
      <span class="log-msg">Worker 2 –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è ‚Äî –∑–∞–¥–∞—á –Ω–µ—Ç</span>
      <span class="log-time">23:43</span>
    </div>
    <div class="log-entry">
      <span class="log-who">[Worker 1]</span>
      <span class="log-arrow">‚Üí</span>
      <span class="log-msg">–ø—Ä–æ–≥—Ä–µ—Å—Å 60% ‚Äî –∂–¥—ë–º –æ—Ç–≤–µ—Ç EAS —Å–µ—Ä–≤–µ—Ä–æ–≤</span>
      <span class="log-time">00:00</span>
    </div>
  </div>
</div>

<!-- BOTTOM NAV -->
<nav class="nav">
  <div class="nav-item active" onclick="nav('home',this)"><div class="nav-icon">üè†</div><span>–ì–ª–∞–≤–Ω–∞—è</span></div>
  <div class="nav-item" onclick="nav('map',this)"><div class="nav-icon">üìç</div><span>–ö–∞—Ä—Ç–∞</span></div>
</nav>

<script>
  if (window.Telegram?.WebApp) {
    const tg = Telegram.WebApp;
    tg.ready();
    tg.expand();
    if (tg.requestFullscreen) tg.requestFullscreen();
    try { tg.setHeaderColor('#1e1b4b'); } catch(e){}
    try { tg.setBackgroundColor('#0a0a0f'); } catch(e){}

    // Apply safe area insets via CSS variables (affects ALL pages)
    function applyInsets() {
      const top = (tg.safeAreaInset?.top || 0) + (tg.contentSafeAreaInset?.top || 0);
      const bottom = (tg.safeAreaInset?.bottom || 0) + (tg.contentSafeAreaInset?.bottom || 0);
      document.documentElement.style.setProperty('--safe-top', top + 'px');
      document.documentElement.style.setProperty('--safe-bottom', bottom + 'px');
      document.querySelector('.nav').style.paddingBottom = `${Math.max(bottom, 8)}px`;
    }
    applyInsets();
    tg.onEvent('viewportChanged', applyInsets);
    tg.onEvent('safeAreaChanged', applyInsets);
    tg.onEvent('contentSafeAreaChanged', applyInsets);
  }

  function nav(page, el) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    document.getElementById('page-' + page).classList.add('active');
    el.classList.add('active');
  }

  function toggleTodo(el) {
    const cb = el.querySelector('.todo-cb');
    cb.classList.toggle('checked');
    el.classList.toggle('done');
  }

  // ‚îÄ‚îÄ INCOME DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  // Format: 'YYYY-MM-DD': amount (‚Ç∏)
  const incomeData = {
    '2026-02-26': 80000,
  };

  let chartWeekOffset = 0; // 0 = current week, -1 = prev, etc.

  function getWeekDates(offset) {
    const today = new Date();
    const day = today.getDay() || 7; // Mon=1..Sun=7
    const monday = new Date(today);
    monday.setDate(today.getDate() - day + 1 + offset * 7);
    return Array.from({length: 7}, (_, i) => {
      const d = new Date(monday);
      d.setDate(monday.getDate() + i);
      return d;
    });
  }

  function fmtKey(d) {
    return d.toISOString().slice(0, 10);
  }

  function fmtDay(d) {
    return ['–ü–Ω','–í—Ç','–°—Ä','–ß—Ç','–ü—Ç','–°–±','–í—Å'][d.getDay() === 0 ? 6 : d.getDay() - 1];
  }

  function fmtDate(d) {
    return `${d.getDate()}.${String(d.getMonth()+1).padStart(2,'0')}`;
  }

  function fmtK(n) {
    if (n >= 1000) return (n/1000).toFixed(n % 1000 === 0 ? 0 : 1) + '–∫';
    return n > 0 ? String(n) : '‚Äî';
  }

  function renderChart() {
    const dates = getWeekDates(chartWeekOffset);
    const todayKey = fmtKey(new Date());
    const values = dates.map(d => incomeData[fmtKey(d)] || 0);
    const maxVal = Math.max(...values, 1);
    const total = values.reduce((a,b) => a+b, 0);

    // Week label
    const first = dates[0], last = dates[6];
    document.getElementById('chart-week-label').textContent =
      `${fmtDate(first)} ‚Äì ${fmtDate(last)}`;
    document.getElementById('chart-total').textContent =
      `–ò—Ç–æ–≥–æ: ${total.toLocaleString('ru')} ‚Ç∏`;

    // SVG
    const W = 280, H = 80, padX = 18, padY = 10;
    const innerW = W - padX * 2, innerH = H - padY * 2;
    const step = innerW / 6;
    const pts = values.map((v, i) => {
      const x = padX + i * step;
      const y = padY + innerH - (v / maxVal) * innerH;
      return { x, y, v };
    });

    // Area path
    let area = `M${pts[0].x},${H} `;
    pts.forEach(p => { area += `L${p.x},${p.y} `; });
    area += `L${pts[pts.length-1].x},${H} Z`;

    // Line path
    let line = `M${pts[0].x},${pts[0].y}`;
    pts.slice(1).forEach(p => { line += ` L${p.x},${p.y}`; });

    let svg = `
      <defs>
        <linearGradient id="cg" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#6366f1" stop-opacity="0.35"/>
          <stop offset="100%" stop-color="#6366f1" stop-opacity="0"/>
        </linearGradient>
      </defs>
      <path d="${area}" fill="url(#cg)"/>
      <path d="${line}" fill="none" stroke="#6366f1" stroke-width="2" stroke-linejoin="round"/>
    `;

    pts.forEach((p, i) => {
      const isToday = fmtKey(dates[i]) === todayKey;
      const hasVal = p.v > 0;
      svg += `<circle cx="${p.x}" cy="${p.y}" r="${isToday ? 4 : 3}"
        fill="${isToday ? '#818cf8' : hasVal ? '#6366f1' : 'var(--border)'}"
        stroke="${isToday ? '#1e1b4b' : 'none'}" stroke-width="2"/>`;
    });

    document.getElementById('chart-svg').innerHTML = svg;

    // Day labels
    document.getElementById('chart-days').innerHTML = dates.map((d, i) => {
      const isToday = fmtKey(d) === todayKey;
      return `<div class="chart-day ${isToday ? 'today' : ''}">
        ${fmtDay(d)}<br><span style="font-size:9px;opacity:0.6">${d.getDate()}</span>
        <div class="chart-day-val">${fmtK(values[i])}</div>
      </div>`;
    }).join('');
  }

  function chartPrev() { chartWeekOffset--; renderChart(); }
  function chartNext() { if (chartWeekOffset < 0) { chartWeekOffset++; renderChart(); } }

  renderChart();
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

  const mapData = {
    'exp-must': {
      title: 'üè† –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã',
      why: [{ q: '–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç?', a: '–ê—Ä–µ–Ω–¥–∞, –µ–¥–∞, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, —Ç–µ–ª–µ—Ñ–æ–Ω' }],
      tasks: [{ text: '–°–∫–∞–∂–∏ –º–Ω–µ —Å—É–º–º—É ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä—É—é', color: '#94a3b8' }]
    },
    'exp-biz': {
      title: 'üìà –†–∞—Å—Ö–æ–¥—ã –Ω–∞ –±–∏–∑–Ω–µ—Å',
      why: [{ q: '–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç?', a: 'OpenClaw, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –±–æ—Ç—ã' }],
      tasks: [{ text: '–°–∫–∞–∂–∏ –º–Ω–µ —Å—É–º–º—É ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä—É—é', color: '#94a3b8' }]
    },
    'exp-wish': {
      title: '‚ú® –†–∞—Å—Ö–æ–¥—ã –Ω–∞ –∂–µ–ª–∞–Ω–∏—è',
      why: [{ q: '–ü—Ä–∞–≤–∏–ª–æ?', a: '10% –æ—Ç –≤—Å–µ—Ö –¥–æ—Ö–æ–¥–æ–≤ —É—Ö–æ–¥–∏—Ç –Ω–∞ –∂–µ–ª–∞–Ω–∏—è' }, { q: '–°–µ–π—á–∞—Å?', a: '10% –æ—Ç 80,000 ‚Ç∏ = 8,000 ‚Ç∏' }],
      tasks: [{ text: '8,000 ‚Ç∏ ‚Üí –Ω–∞ –∂–µ–ª–∞–Ω–∏—è', color: '#fbbf24' }]
    },
    openclaw: {
      title: 'ü§ñ OpenClaw',
      why: [
        { q: '–ß—Ç–æ –¥–µ–ª–∞—é?', a: '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≥–µ–Ω—Ç–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã' },
        { q: '–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ?', a: '–ü–æ–∫–∞ –î–∏–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Äî –Ω–µ –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã' },
        { q: '–¶–µ–ª—å?', a: '–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–Ω–æ–º–∏—è: Evil Morty —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —É—á–∞—Å—Ç–∏—è –î–∏–∞—Å–∞' },
      ],
      tasks: [
        { text: 'Evil Morty ‚Äî online ‚úÖ', color: '#4ade80' },
        { text: 'Worker 1 (@x5_worker_bot) ‚Äî –≥–æ—Ç–æ–≤', color: '#6366f1' },
      ]
    },
    vscode: {
      title: 'üíª VS Code',
      why: [
        { q: '–ß—Ç–æ –¥–µ–ª–∞—é?', a: '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞: —Å–∞–π—Ç—ã, –±–æ—Ç—ã, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è' },
        { q: '–ö–æ–≥–¥–∞ –∑–∞–º–µ–Ω–∏—Ç—å?', a: '–ö–æ–≥–¥–∞ WA –±–æ—Ç –∏ –≤–æ—Ä–∫–µ—Ä—ã —Å–º–æ–≥—É—Ç —Å–∞–º–∏ –ø–∏—Å–∞—Ç—å –∫–æ–¥' },
      ],
      tasks: [{ text: 'x5-marketing-expo ‚Äî –≤ —Ä–∞–±–æ—Ç–µ', color: '#fbbf24' }]
    },
    energy: {
      title: '‚ö° –≠–Ω–µ—Ä–≥–∏—è ‚Äî –î–∏–∞—Å',
      why: [
        { q: '–ß—Ç–æ —ç—Ç–æ?', a: '–¢–≤–æ—è —Ä–∞–±–æ—á–∞—è —Å–∏–ª–∞, —Ñ–æ–∫—É—Å, –≤—Ä–µ–º—è ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ä–µ—Å—É—Ä—Å' },
        { q: '–ö—É–¥–∞ —É—Ö–æ–¥–∏—Ç?', a: 'OpenClaw (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞) + VS Code (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)' },
        { q: '–¶–µ–ª—å?', a: '–ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—É—á–Ω–æ–π —Ç—Ä—É–¥ ‚Üí –º–∞–∫—Å–∏–º—É–º –Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é' },
      ],
      tasks: [
        { text: '–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—É—Ç–∏–Ω—É —á–µ—Ä–µ–∑ –±–æ—Ç—ã', color: '#fbbf24' },
        { text: '–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –≤–æ—Ä–∫–µ—Ä–∞–º', color: '#6366f1' },
      ]
    },
    kaspi: {
      title: 'üí≥ –ö–∞—Å–ø–∏',
      why: [{ q: '–†–æ–ª—å?', a: '–û—Å–Ω–æ–≤–Ω–æ–π –±–∞–Ω–∫ ‚Äî –≤—Å–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –∏ —Ä–∞—Å—Ö–æ–¥—ã —á–µ—Ä–µ–∑ –Ω–µ–≥–æ' }],
      tasks: [
        { text: '–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: ‚Äî', color: '#6366f1' },
        { text: 'Revenue: 80,000 ‚Ç∏', color: '#4ade80' },
      ]
    },
    x5: {
      title: '‚ö° x5 Marketing',
      why: [
        { q: '–ü–æ—á–µ–º—É –Ω–µ—Ç –ø—Ä–æ–¥–∞–∂?', a: '–ù–µ—Ç –≤ App Store ‚Äî –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç —Å–∫–∞—á–∞—Ç—å' },
        { q: '–ü–æ—á–µ–º—É –Ω–µ –≤ App Store?', a: '–ë–∏–ª–¥ #12 –≤ –æ—á–µ—Ä–µ–¥–∏ EAS' },
        { q: '–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥?', a: '–î–æ–∂–¥–∞—Ç—å—Å—è –±–∏–ª–¥–∞ ‚Üí —Å–∞–±–º–∏—Ç –≤ App Store' },
      ],
      tasks: [
        { text: '–ë–∏–ª–¥ #12 ‚Üí EAS –æ—á–µ—Ä–µ–¥—å', color: '#fbbf24' },
        { text: '–°–∫—Ä–∏–Ω—ã + –æ–ø–∏—Å–∞–Ω–∏–µ App Store', color: '#6366f1' },
      ]
    },
    'wa-bot': {
      title: 'ü§ñ WA Bot ‚Äî —Ä–∞—Å—Å—ã–ª–∫–∞',
      why: [
        { q: '–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?', a: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ + –ø—Ä–æ–¥–∞–∂–∞ —Å–∞–π—Ç–æ–≤' },
        { q: '–°—Ç–∞—Ç—É—Å?', a: '–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ‚Äî –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å' },
        { q: '–¶–µ–ª—å?', a: '–ë–æ—Ç —Å–∞–º –Ω–∞—Ö–æ–¥–∏—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤, —Å–∞–º –ø—Ä–æ–¥–∞—ë—Ç, –±–µ–∑ –î–∏–∞—Å–∞' },
      ],
      tasks: [
        { text: '–°–æ–∑–¥–∞—Ç—å WA –±–æ—Ç–∞', color: '#fbbf24' },
        { text: '–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É', color: '#6366f1' },
        { text: '–ü–æ–¥–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–¥–∞–∂—É —Å–∞–π—Ç–æ–≤', color: '#6366f1' },
      ]
    },
    playa: {
      title: 'ü™© Playa',
      why: [{ q: '–°—Ç–∞—Ç—É—Å?', a: '–û—Ç–ª–æ–∂–µ–Ω–æ ‚Äî —Å–Ω–∞—á–∞–ª–∞ x5 –≤ App Store' }],
      tasks: [{ text: '–ñ–¥—ë—Ç x5 Marketing', color: '#94a3b8' }]
    },
    'cl-jewelry': {
      title: 'üíç –ö–ª–∏–µ–Ω—Ç ‚Äî –Æ–≤–µ–ª–∏—Ä–∫–∞',
      why: [
        { q: '–ö—Ç–æ?', a: '–ö–ª–∏–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ –ê–¥–∏–ª—Ö–∞–Ω–∞ ‚Äî —é–≤–µ–ª–∏—Ä–Ω—ã–µ –∑–∞–∫–∞–∑—ã' },
        { q: '–°—Ç–∞—Ç—É—Å?', a: '–ê–∫—Ç–∏–≤–Ω—ã–π –∫–∞–Ω–∞–ª' },
      ],
      tasks: [{ text: '–ö–∞–Ω–∞–ª –∞–∫—Ç–∏–≤–µ–Ω ‚úÖ', color: '#4ade80' }]
    },
    'cl-logistic': {
      title: 'üöõ –ö–ª–∏–µ–Ω—Ç ‚Äî –õ–æ–≥–∏—Å—Ç–∏–∫–∞',
      why: [
        { q: '–ü–æ—á–µ–º—É –±–ª–æ–∫–µ—Ä?', a: '–ñ–¥—ë–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞' },
        { q: '–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ?', a: '–°–∞–π—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Cloud Run (27 —Ñ–µ–≤)' },
        { q: '–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥?', a: '–ö–ª–∏–µ–Ω—Ç –ø—Ä–∏—à–ª—ë—Ç —Å–ø–∏—Å–æ–∫ ‚Üí –∑–∞–∫—Ä—ã–≤–∞–µ–º' },
      ],
      tasks: [
        { text: '–ñ–¥—ë–º –ø—Ä–∞–≤–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ ‚è≥', color: '#f87171' },
        { text: '–°–∞–π—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω ‚úÖ', color: '#4ade80' },
      ]
    },

  };

  function showDetail(key) {
    const d = mapData[key];
    const panel = document.getElementById('map-detail');
    document.getElementById('detail-title').innerHTML = d.title;
    document.getElementById('detail-why').innerHTML = d.why.map((w,i) =>
      `<div class="why-item"><span class="why-num">${i+1}.</span><div><b style="color:var(--text);font-size:12px">${w.q}</b><div class="why-text">${w.a}</div></div></div>`
    ).join('');
    document.getElementById('detail-tasks').innerHTML = '<div style="font-size:11px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">–ó–∞–¥–∞—á–∏</div>' +
      d.tasks.map(t => `<div class="map-task-item"><div class="map-task-dot" style="background:${t.color}"></div>${t.text}</div>`).join('');
    panel.classList.add('open');
    panel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }
</script>
</body>
</html>
