<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Money</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root {
      --bg: #08080e;
      --card: #111118;
      --card2: #1a1a24;
      --border: #1e1e30;
      --accent: #6366f1;
      --accent2: #818cf8;
      --accent-glow: rgba(99,102,241,0.15);
      --green: #22c55e;
      --yellow: #f59e0b;
      --red: #ef4444;
      --purple: #a855f7;
      --text: #f1f5f9;
      --muted: #525270;
      --muted2: #8888a8;
      --safe-top: 0px;
      --safe-bottom: 0px;
    }
    * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
    body { font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","SF Pro Text",system-ui,sans-serif; background:var(--bg); color:var(--text); min-height:100vh; padding-bottom:72px; overscroll-behavior:none; -webkit-font-smoothing:antialiased; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HEADER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .header {
      background: linear-gradient(170deg, #0c0a20 0%, #151235 50%, #0f0d1f 100%);
      padding: 20px 20px 24px;
      padding-top: calc(20px + var(--safe-top));
      position: relative; overflow: hidden;
    }
    .header::after { content:''; position:absolute; bottom:0; left:0; right:0; height:1px; background:linear-gradient(90deg, transparent, rgba(99,102,241,0.2), transparent); }
    .orb { position:absolute; border-radius:50%; filter:blur(60px); pointer-events:none; opacity:0.5; }
    .orb1 { width:200px; height:200px; background:rgba(99,102,241,0.3); top:-80px; right:-60px; animation:orb1 8s ease-in-out infinite; }
    .orb2 { width:140px; height:140px; background:rgba(168,85,247,0.2); bottom:-50px; left:-30px; animation:orb2 10s ease-in-out infinite; }
    @keyframes orb1 { 0%,100%{transform:translate(0,0)} 50%{transform:translate(-20px,15px)} }
    @keyframes orb2 { 0%,100%{transform:translate(0,0)} 50%{transform:translate(15px,-20px)} }

    .header-top { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; position:relative; z-index:1; }
    .header-info {}
    .header-title { font-size:22px; font-weight:700; letter-spacing:-0.3px; }
    .header-sub { font-size:13px; color:rgba(255,255,255,0.4); margin-top:3px; letter-spacing:0.2px; }
    .avatar { width:42px; height:42px; border-radius:50%; background:linear-gradient(135deg,#6366f1,#a855f7); display:flex; align-items:center; justify-content:center; font-size:17px; font-weight:700; box-shadow:0 4px 20px rgba(99,102,241,0.35); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• GOAL CARD â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .goal-card {
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.06);
      backdrop-filter: blur(20px);
      border-radius: 16px;
      padding: 16px 18px;
      position: relative; z-index:1;
    }
    .goal-row { display:flex; justify-content:space-between; align-items:flex-end; margin-bottom:12px; }
    .goal-left {}
    .goal-label { font-size:10px; color:rgba(255,255,255,0.35); text-transform:uppercase; letter-spacing:1px; font-weight:600; margin-bottom:4px; }
    .goal-amount { font-size:28px; font-weight:800; letter-spacing:-1px; line-height:1; }
    .goal-right { text-align:right; }
    .goal-target-label { font-size:10px; color:rgba(255,255,255,0.35); text-transform:uppercase; letter-spacing:1px; font-weight:600; margin-bottom:4px; }
    .goal-target { font-size:20px; font-weight:700; color:var(--accent2); letter-spacing:-0.5px; line-height:1; }
    .goal-bar-wrap { height:6px; background:rgba(255,255,255,0.06); border-radius:4px; overflow:hidden; margin-bottom:8px; }
    .goal-bar-fill { height:100%; border-radius:4px; background:linear-gradient(90deg, #6366f1, #818cf8); transition:width 1s ease; position:relative; }
    .goal-bar-fill::after { content:''; position:absolute; inset:0; background:linear-gradient(90deg, transparent 60%, rgba(255,255,255,0.2)); border-radius:4px; }
    .goal-hint { font-size:12px; color:rgba(255,255,255,0.3); text-align:center; }
    .goal-hint b { color:rgba(255,255,255,0.55); font-weight:600; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAV â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .nav {
      position:fixed; bottom:0; left:0; right:0;
      background:rgba(8,8,14,0.92);
      border-top:1px solid rgba(30,30,48,0.6);
      backdrop-filter:blur(24px);
      display:flex; z-index:100;
      padding-bottom:env(safe-area-inset-bottom);
    }
    .nav-item { flex:1; display:flex; flex-direction:column; align-items:center; padding:10px 0 8px; cursor:pointer; font-size:10px; color:var(--muted); transition:color 0.2s; font-weight:500; }
    .nav-item.active { color:var(--accent2); }
    .nav-icon { font-size:22px; margin-bottom:2px; transition:transform 0.2s; }
    .nav-item.active .nav-icon { transform:scale(1.08); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGES â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .page { display:none; }
    .page.active { display:block; }
    #page-home { padding-top:0; }
    #page-system { padding:16px 16px 0; padding-top:calc(16px + var(--safe-top)); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CONTENT AREA â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .content { padding:0 16px; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CHART â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .chart-card {
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      padding:16px 18px 14px;
      margin-top:16px;
    }
    .chart-top { display:flex; justify-content:space-between; align-items:center; margin-bottom:4px; }
    .chart-label { font-size:12px; font-weight:700; color:var(--muted2); display:flex; align-items:center; gap:6px; }
    .chart-nav { display:flex; align-items:center; gap:6px; }
    .chart-nav-btn { background:var(--card2); border:1px solid var(--border); border-radius:8px; color:var(--muted2); font-size:11px; width:28px; height:28px; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all 0.15s; }
    .chart-nav-btn:active { background:var(--accent); color:white; border-color:var(--accent); }
    .chart-week { font-size:12px; color:var(--muted2); font-weight:500; }
    .chart-total { font-size:15px; font-weight:700; color:var(--text); margin-bottom:10px; }
    .chart-total span { color:var(--accent2); }
    .chart-svg-wrap { width:100%; overflow:hidden; }
    .chart-days { display:flex; justify-content:space-between; margin-top:8px; }
    .chart-day { flex:1; text-align:center; font-size:10px; color:var(--muted); font-weight:500; }
    .chart-day.today { color:var(--accent2); font-weight:700; }
    .chart-day-name { margin-bottom:1px; }
    .chart-day-num { font-size:9px; opacity:0.6; margin-bottom:2px; }
    .chart-day-val { font-size:9px; color:var(--muted); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SECTIONS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .section-title {
      font-size:11px; font-weight:700; color:var(--muted);
      text-transform:uppercase; letter-spacing:1.2px;
      margin:24px 0 10px; display:flex; align-items:center; gap:7px;
    }
    .section-title::before { content:''; width:3px; height:11px; background:var(--accent); border-radius:2px; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TODO ITEMS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .todo-item {
      background:var(--card);
      border-radius:14px;
      padding:14px 16px;
      margin-bottom:8px;
      border:1px solid var(--border);
      display:flex; align-items:center; gap:12px;
      cursor:pointer; transition:all 0.15s;
    }
    .todo-item:active { border-color:rgba(99,102,241,0.3); background:rgba(17,17,24,0.8); }
    .todo-cb { width:20px; height:20px; border-radius:7px; border:2px solid rgba(255,255,255,0.12); display:flex; align-items:center; justify-content:center; flex-shrink:0; transition:all 0.2s; }
    .todo-cb.checked { background:var(--accent); border-color:var(--accent); }
    .todo-cb.checked::after { content:'âœ“'; color:white; font-size:11px; font-weight:700; }
    .todo-text { flex:1; min-width:0; }
    .todo-title { font-size:14px; font-weight:600; line-height:1.3; }
    .todo-sub { font-size:12px; color:var(--muted); margin-top:2px; }
    .todo-item.done .todo-title { text-decoration:line-through; color:var(--muted); }
    .badge { font-size:10px; font-weight:600; padding:3px 8px; border-radius:6px; flex-shrink:0; }
    .badge-fire { background:rgba(239,68,68,0.12); color:#f87171; }
    .badge-purple { background:rgba(168,85,247,0.12); color:#c084fc; }
    .badge-wait { background:rgba(245,158,11,0.12); color:#fbbf24; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• STATS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .stats-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
    .stat-card {
      background:var(--card);
      border-radius:14px;
      padding:14px 16px;
      border:1px solid var(--border);
    }
    .stat-value { font-size:22px; font-weight:800; letter-spacing:-0.5px; margin-bottom:2px; }
    .stat-label { font-size:10px; color:var(--muted); text-transform:uppercase; letter-spacing:0.5px; font-weight:600; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TEAM â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .team-item {
      background:var(--card);
      border-radius:14px;
      padding:13px 16px;
      margin-bottom:8px;
      border:1px solid var(--border);
      display:flex; align-items:center; gap:12px;
    }
    .team-icon { width:38px; height:38px; border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:18px; flex-shrink:0; }
    .team-icon-morty { background:linear-gradient(135deg,#1e1b4b,#312e81); }
    .team-icon-w1 { background:linear-gradient(135deg,#052e16,#166534); }
    .team-icon-w2 { background:linear-gradient(135deg,#3b0764,#7e22ce); }
    .team-info { flex:1; }
    .team-name { font-size:14px; font-weight:600; }
    .team-role { font-size:11px; color:var(--muted); margin-top:1px; }
    .team-status { font-size:11px; font-weight:600; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SYSTEM PAGE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .sys-header { text-align:center; padding:8px 0 20px; }
    .sys-title { font-size:20px; font-weight:800; letter-spacing:-0.3px; }
    .sys-sub { font-size:12px; color:var(--muted); margin-top:4px; }

    /* Center node */
    .sys-center {
      background:linear-gradient(135deg, #0f1a30 0%, #162040 50%, #0f1a30 100%);
      border:1.5px solid rgba(99,102,241,0.3);
      border-radius:18px;
      padding:18px 20px;
      display:flex; align-items:center; gap:14px;
      cursor:pointer;
      box-shadow:0 0 30px rgba(99,102,241,0.08);
      margin-bottom:16px;
      transition:transform 0.15s;
    }
    .sys-center:active { transform:scale(0.98); }
    .sys-center-icon { font-size:28px; }
    .sys-center-info {}
    .sys-center-name { font-size:17px; font-weight:800; letter-spacing:0.3px; }
    .sys-center-desc { font-size:12px; color:var(--muted2); margin-top:2px; }
    .sys-center-badge { margin-left:auto; font-size:10px; font-weight:600; padding:4px 10px; border-radius:20px; background:rgba(34,197,94,0.15); color:#4ade80; }

    /* Connector */
    .sys-connector { display:flex; justify-content:center; margin:12px 0; }
    .sys-line { width:2px; height:24px; background:linear-gradient(to bottom, rgba(99,102,241,0.4), rgba(99,102,241,0.1)); border-radius:2px; }
    .sys-line-h { height:2px; flex:1; background:linear-gradient(90deg, rgba(99,102,241,0.1), rgba(99,102,241,0.3), rgba(99,102,241,0.1)); border-radius:2px; margin:0 20px; }

    /* Section containers */
    .sys-section {
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      padding:16px;
      margin-bottom:12px;
    }
    .sys-section-label { font-size:11px; font-weight:700; color:var(--muted); text-transform:uppercase; letter-spacing:1.2px; margin-bottom:12px; display:flex; align-items:center; gap:7px; }
    .sys-section-label::before { content:''; width:3px; height:11px; border-radius:2px; }
    .sys-section-label.income::before { background:var(--green); }
    .sys-section-label.expense::before { background:var(--red); }
    .sys-section-label.tools::before { background:var(--purple); }

    /* Nodes */
    .sys-node {
      border-radius:14px;
      padding:12px 14px;
      margin-bottom:8px;
      display:flex; align-items:center; gap:12px;
      cursor:pointer; transition:all 0.15s;
      border:1px solid transparent;
    }
    .sys-node:last-child { margin-bottom:0; }
    .sys-node:active { transform:scale(0.98); }
    .sys-node-icon { font-size:20px; width:36px; height:36px; border-radius:10px; display:flex; align-items:center; justify-content:center; flex-shrink:0; }
    .sys-node-info { flex:1; min-width:0; }
    .sys-node-name { font-size:14px; font-weight:600; }
    .sys-node-desc { font-size:11px; color:var(--muted); margin-top:1px; }
    .sys-node-badge { font-size:10px; font-weight:600; padding:3px 8px; border-radius:20px; flex-shrink:0; }

    .node-green { background:rgba(34,197,94,0.06); border-color:rgba(34,197,94,0.15); }
    .node-green .sys-node-icon { background:rgba(34,197,94,0.12); }
    .node-green .sys-node-badge { background:rgba(34,197,94,0.15); color:#4ade80; }

    .node-yellow { background:rgba(245,158,11,0.06); border-color:rgba(245,158,11,0.15); }
    .node-yellow .sys-node-icon { background:rgba(245,158,11,0.12); }
    .node-yellow .sys-node-badge { background:rgba(245,158,11,0.15); color:#fbbf24; }

    .node-red { background:rgba(239,68,68,0.06); border-color:rgba(239,68,68,0.15); }
    .node-red .sys-node-icon { background:rgba(239,68,68,0.12); }
    .node-red .sys-node-badge { background:rgba(239,68,68,0.15); color:#f87171; }

    .node-blue { background:rgba(99,102,241,0.06); border-color:rgba(99,102,241,0.15); }
    .node-blue .sys-node-icon { background:rgba(99,102,241,0.12); }
    .node-blue .sys-node-badge { background:rgba(99,102,241,0.15); color:#818cf8; }

    .node-purple { background:rgba(168,85,247,0.06); border-color:rgba(168,85,247,0.15); }
    .node-purple .sys-node-icon { background:rgba(168,85,247,0.12); }
    .node-purple .sys-node-badge { background:rgba(168,85,247,0.15); color:#c084fc; }

    .node-muted { background:rgba(82,82,112,0.06); border-color:rgba(82,82,112,0.15); }
    .node-muted .sys-node-icon { background:rgba(82,82,112,0.12); }
    .node-muted .sys-node-badge { background:rgba(82,82,112,0.15); color:var(--muted2); }

    /* Energy circle */
    .energy-wrap { display:flex; justify-content:center; margin:20px 0 8px; }
    .energy-circle {
      width:100px; height:100px;
      border-radius:50%;
      background:linear-gradient(135deg, #2a1a00, #422d05);
      border:1.5px solid rgba(251,191,36,0.35);
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      box-shadow:0 0 40px rgba(251,191,36,0.12);
      cursor:pointer;
      animation:energy-breathe 3s ease-in-out infinite;
    }
    @keyframes energy-breathe { 0%,100%{box-shadow:0 0 30px rgba(251,191,36,0.1)} 50%{box-shadow:0 0 50px rgba(251,191,36,0.2)} }
    .energy-icon { font-size:28px; }
    .energy-label { font-size:11px; font-weight:800; color:#fbbf24; letter-spacing:1px; margin-top:2px; }
    .energy-sub { font-size:9px; color:rgba(251,191,36,0.5); }

    /* Energy dots */
    .energy-dots { display:flex; flex-direction:column; align-items:center; gap:4px; height:32px; justify-content:center; }
    .energy-dot { width:5px; height:5px; border-radius:50%; background:#fbbf24; box-shadow:0 0 6px #fbbf24; animation:edot 1.5s ease-in-out infinite; opacity:0; }
    @keyframes edot { 0%{transform:translateY(8px);opacity:0} 40%{opacity:1} 60%{opacity:1} 100%{transform:translateY(-8px);opacity:0} }

    /* Detail panel */
    .detail-panel {
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      padding:18px;
      margin-top:16px;
      display:none;
      animation:slideUp 0.2s ease;
    }
    .detail-panel.open { display:block; }
    @keyframes slideUp { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
    .detail-title { font-size:16px; font-weight:700; margin-bottom:14px; display:flex; align-items:center; gap:8px; }
    .detail-close { margin-left:auto; width:28px; height:28px; border-radius:8px; background:var(--card2); border:1px solid var(--border); display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:14px; color:var(--muted); }
    .detail-close:active { background:var(--accent); color:white; }
    .detail-row { padding:8px 0; border-bottom:1px solid var(--border); font-size:13px; }
    .detail-row:last-child { border-bottom:none; }
    .detail-q { font-weight:600; color:var(--text); margin-bottom:2px; font-size:12px; }
    .detail-a { color:var(--muted2); font-size:12px; }
    .detail-tasks-label { font-size:10px; font-weight:700; color:var(--muted); text-transform:uppercase; letter-spacing:1px; margin:12px 0 8px; }
    .detail-task { background:var(--card2); border-radius:10px; padding:10px 12px; margin-bottom:6px; font-size:13px; display:flex; align-items:center; gap:8px; }
    .detail-task-dot { width:7px; height:7px; border-radius:50%; flex-shrink:0; }

    /* Smooth transition for all pages */
    .page { opacity:0; transition:opacity 0.15s ease; }
    .page.active { opacity:1; }
  </style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HOME â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-home" class="page active">
  <div class="header">
    <div class="orb orb1"></div>
    <div class="orb orb2"></div>
    <div class="header-top">
      <div class="header-info">
        <div class="header-title">ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, Ğ”Ğ¸Ğ°Ñ ğŸ‘‹</div>
        <div class="header-sub">ĞÑÑ‚Ğ°Ğ½Ğ° Â· Founder</div>
      </div>
      <div class="avatar">Ğ”</div>
    </div>
    <div class="goal-card">
      <div class="goal-row">
        <div class="goal-left">
          <div class="goal-label">Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ</div>
          <div class="goal-amount" id="goal-today">0 â‚¸</div>
        </div>
        <div class="goal-right">
          <div class="goal-target-label">Ğ¦ĞµĞ»ÑŒ</div>
          <div class="goal-target">1,000,000 â‚¸</div>
        </div>
      </div>
      <div class="goal-bar-wrap">
        <div class="goal-bar-fill" id="goal-bar" style="width:8%"></div>
      </div>
      <div class="goal-hint"><b>80K â‚¸</b> Ğ·Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ¾ Â· <b>8%</b> Ğ¾Ñ‚ Ñ†ĞµĞ»Ğ¸</div>
    </div>
  </div>

  <div class="content">
    <!-- Chart -->
    <div class="chart-card">
      <div class="chart-top">
        <span class="chart-label">ğŸ“ˆ Ğ´Ğ¾Ñ…Ğ¾Ğ´</span>
        <div class="chart-nav">
          <div class="chart-nav-btn" onclick="chartPrev()">â—€</div>
          <span class="chart-week" id="chart-week-label">â€”</span>
          <div class="chart-nav-btn" onclick="chartNext()">â–¶</div>
        </div>
      </div>
      <div class="chart-total" id="chart-total">Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: <span>0 â‚¸</span></div>
      <div class="chart-svg-wrap">
        <svg id="chart-svg" width="100%" height="90" viewBox="0 0 280 90" preserveAspectRatio="none"></svg>
      </div>
      <div class="chart-days" id="chart-days"></div>
    </div>

    <!-- Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ -->
    <div class="section-title">Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸</div>

    <div class="todo-item" onclick="toggleTodo(this)">
      <div class="todo-cb"></div>
      <div class="todo-text">
        <div class="todo-title">Jewelry: ÑĞ°Ğ¹Ñ‚-Ğ²Ğ¸Ğ·Ğ¸Ñ‚ĞºĞ°</div>
        <div class="todo-sub">Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½ + Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°</div>
      </div>
      <span class="badge badge-fire">ğŸ”¥</span>
    </div>
    <div class="todo-item" onclick="toggleTodo(this)">
      <div class="todo-cb"></div>
      <div class="todo-text">
        <div class="todo-title">ĞšĞ°Ğ·Ğ°Ñ… Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸Ğº: Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸</div>
        <div class="todo-sub">Ğ–Ğ´Ñ‘Ğ¼ Ğ¾Ñ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°</div>
      </div>
      <span class="badge badge-wait">â³</span>
    </div>
    <div class="todo-item" onclick="toggleTodo(this)">
      <div class="todo-cb"></div>
      <div class="todo-text">
        <div class="todo-title">x5: App Store Ğ±Ğ¸Ğ»Ğ´</div>
        <div class="todo-sub">EAS Build #12</div>
      </div>
      <span class="badge badge-purple">âš™ï¸</span>
    </div>

    <!-- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° -->
    <div class="section-title">Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°</div>
    <div class="stats-grid">
      <div class="stat-card"><div class="stat-value" style="color:var(--green)">80K â‚¸</div><div class="stat-label">Ğ—Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ¾</div></div>
      <div class="stat-card"><div class="stat-value" style="color:var(--accent2)">3</div><div class="stat-label">ĞŸÑ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²</div></div>
      <div class="stat-card"><div class="stat-value" style="color:var(--yellow)">2</div><div class="stat-label">Ğ’ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ</div></div>
      <div class="stat-card"><div class="stat-value" style="color:var(--purple)">3</div><div class="stat-label">ĞĞ³ĞµĞ½Ñ‚Ğ¾Ğ²</div></div>
    </div>

    <!-- ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° -->
    <div class="section-title">ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°</div>
    <div class="team-item">
      <div class="team-icon team-icon-morty">ğŸ¤–</div>
      <div class="team-info">
        <div class="team-name">Evil Morty</div>
        <div class="team-role">ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€ Â· @testDiss21bot</div>
      </div>
      <div class="team-status" style="color:var(--green)">â—</div>
    </div>
    <div class="team-item">
      <div class="team-icon team-icon-w1">âš¡</div>
      <div class="team-info">
        <div class="team-name">Worker 1</div>
        <div class="team-role">x5 Â· @x5_worker_bot</div>
      </div>
      <div class="team-status" style="color:var(--green)">â—</div>
    </div>
    <div class="team-item">
      <div class="team-icon team-icon-w2">ğŸ’</div>
      <div class="team-info">
        <div class="team-name">Worker 2</div>
        <div class="team-role">Jewelry Â· @jewelry_worker_bot</div>
      </div>
      <div class="team-status" style="color:var(--yellow)">â—</div>
    </div>

    <div style="height:20px"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SYSTEM â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-system" class="page">
  <div class="sys-header">
    <div class="sys-title">ğŸ—º Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ°</div>
    <div class="sys-sub">Ğ”Ğ¾Ñ…Ğ¾Ğ´Ñ‹ Â· Ğ Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ Â· Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹</div>
  </div>

  <!-- ĞšĞ°ÑĞ¿Ğ¸ â€” Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑƒĞ·ĞµĞ» -->
  <div class="sys-center" onclick="showDetail('kaspi')">
    <div class="sys-center-icon">ğŸ’³</div>
    <div class="sys-center-info">
      <div class="sys-center-name">ĞšĞĞ¡ĞŸĞ˜</div>
      <div class="sys-center-desc">ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ±Ğ°Ğ½Ğº Â· Ğ²ÑĞµ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¸</div>
    </div>
    <div class="sys-center-badge">80K â‚¸</div>
  </div>

  <!-- Ğ”Ğ¾Ñ…Ğ¾Ğ´Ñ‹ -->
  <div class="sys-section">
    <div class="sys-section-label income">Ğ”Ğ¾Ñ…Ğ¾Ğ´Ñ‹</div>

    <div class="sys-node node-green" onclick="showDetail('cl-jewelry')">
      <div class="sys-node-icon">ğŸ’</div>
      <div class="sys-node-info">
        <div class="sys-node-name">Ğ®Ğ²ĞµĞ»Ğ¸Ñ€ĞºĞ°</div>
        <div class="sys-node-desc">Ğ§ĞµÑ€ĞµĞ· ĞĞ´Ğ¸Ğ»Ñ…Ğ°Ğ½Ğ° Â· Ğ°ĞºÑ‚Ğ¸Ğ²ĞµĞ½</div>
      </div>
      <div class="sys-node-badge">âœ“ Active</div>
    </div>

    <div class="sys-node node-red" onclick="showDetail('cl-logistic')">
      <div class="sys-node-icon">ğŸš›</div>
      <div class="sys-node-info">
        <div class="sys-node-name">ĞšĞ°Ğ·Ğ°Ñ… Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸Ğº</div>
        <div class="sys-node-desc">Ğ–Ğ´Ñ‘Ğ¼ Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ¾Ñ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°</div>
      </div>
      <div class="sys-node-badge">â³ Ğ–Ğ´Ñ‘Ğ¼</div>
    </div>

    <div class="sys-node node-yellow" onclick="showDetail('x5')">
      <div class="sys-node-icon">âš¡</div>
      <div class="sys-node-info">
        <div class="sys-node-name">x5 Marketing</div>
        <div class="sys-node-desc">App Store Â· Ğ±Ğ¸Ğ»Ğ´ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸</div>
      </div>
      <div class="sys-node-badge">âš  Ğ‘Ğ¸Ğ»Ğ´</div>
    </div>

    <div class="sys-node node-muted" onclick="showDetail('playa')">
      <div class="sys-node-icon">ğŸª©</div>
      <div class="sys-node-info">
        <div class="sys-node-name">Playa</div>
        <div class="sys-node-desc">ĞÑ‚Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¾</div>
      </div>
      <div class="sys-node-badge">â€”</div>
    </div>

    <div class="sys-node node-yellow" onclick="showDetail('wa-bot')">
      <div class="sys-node-icon">ğŸ¤–</div>
      <div class="sys-node-info">
        <div class="sys-node-name">WA Bot</div>
        <div class="sys-node-desc">Ğ Ğ°ÑÑÑ‹Ğ»ĞºĞ° Â· Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ° ÑĞ°Ğ¹Ñ‚Ğ¾Ğ²</div>
      </div>
      <div class="sys-node-badge">âš  Dev</div>
    </div>
  </div>

  <!-- Ğ Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ -->
  <div class="sys-section">
    <div class="sys-section-label expense">Ğ Ğ°ÑÑ…Ğ¾Ğ´Ñ‹</div>

    <div class="sys-node node-red" onclick="showDetail('exp-must')">
      <div class="sys-node-icon">ğŸ </div>
      <div class="sys-node-info">
        <div class="sys-node-name">ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ</div>
        <div class="sys-node-desc">ĞÑ€ĞµĞ½Ğ´Ğ°, ĞµĞ´Ğ°, Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚</div>
      </div>
      <div class="sys-node-badge">â€”</div>
    </div>

    <div class="sys-node node-purple" onclick="showDetail('exp-biz')">
      <div class="sys-node-icon">ğŸ“ˆ</div>
      <div class="sys-node-info">
        <div class="sys-node-name">ĞĞ° Ğ±Ğ¸Ğ·Ğ½ĞµÑ</div>
        <div class="sys-node-desc">Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹, Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°</div>
      </div>
      <div class="sys-node-badge">â€”</div>
    </div>

    <div class="sys-node node-yellow" onclick="showDetail('exp-wish')">
      <div class="sys-node-icon">âœ¨</div>
      <div class="sys-node-info">
        <div class="sys-node-name">ĞĞ° Ğ¶ĞµĞ»Ğ°Ğ½Ğ¸Ñ</div>
        <div class="sys-node-desc">10% Ğ¾Ñ‚ Ğ´Ğ¾Ñ…Ğ¾Ğ´Ğ¾Ğ² Â· 8K â‚¸</div>
      </div>
      <div class="sys-node-badge">10%</div>
    </div>
  </div>

  <!-- Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ -->
  <div class="sys-section">
    <div class="sys-section-label tools">Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹</div>

    <div class="sys-node node-blue" onclick="showDetail('openclaw')">
      <div class="sys-node-icon">ğŸ¤–</div>
      <div class="sys-node-info">
        <div class="sys-node-name">OpenClaw</div>
        <div class="sys-node-desc">Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Â· Ğ°Ğ³ĞµĞ½Ñ‚Ñ‹ Â· Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ</div>
      </div>
      <div class="sys-node-badge">â—</div>
    </div>

    <div class="sys-node node-muted" onclick="showDetail('vscode')">
      <div class="sys-node-icon">ğŸ’»</div>
      <div class="sys-node-info">
        <div class="sys-node-name">VS Code</div>
        <div class="sys-node-desc">Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Â· ĞºĞ¾Ğ´</div>
      </div>
      <div class="sys-node-badge">â€”</div>
    </div>
  </div>

  <!-- Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ -->
  <div class="energy-dots">
    <div class="energy-dot" style="animation-delay:0s"></div>
    <div class="energy-dot" style="animation-delay:0.4s"></div>
    <div class="energy-dot" style="animation-delay:0.8s"></div>
  </div>
  <div class="energy-wrap">
    <div class="energy-circle" onclick="showDetail('energy')">
      <div class="energy-icon">âš¡</div>
      <div class="energy-label">Ğ”Ğ˜ĞĞ¡</div>
      <div class="energy-sub">Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº</div>
    </div>
  </div>

  <!-- Detail -->
  <div id="map-detail" class="detail-panel">
    <div class="detail-title">
      <span id="detail-title-text">â€”</span>
      <div class="detail-close" onclick="closeDetail()">âœ•</div>
    </div>
    <div id="detail-body"></div>
    <div id="detail-tasks"></div>
  </div>

  <div style="height:24px"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAV â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav class="nav">
  <div class="nav-item active" onclick="switchPage('home',this)">
    <div class="nav-icon">ğŸ </div><span>Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</span>
  </div>
  <div class="nav-item" onclick="switchPage('system',this)">
    <div class="nav-icon">ğŸ—º</div><span>Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ°</span>
  </div>
</nav>

<script>
// â”€â”€ TG INIT â”€â”€
if (window.Telegram?.WebApp) {
  const tg = Telegram.WebApp;
  tg.ready(); tg.expand();
  if (tg.requestFullscreen) tg.requestFullscreen();
  try { tg.setHeaderColor('#0c0a20'); } catch(e){}
  try { tg.setBackgroundColor('#08080e'); } catch(e){}

  function applyInsets() {
    const top = (tg.safeAreaInset?.top||0) + (tg.contentSafeAreaInset?.top||0);
    const bottom = (tg.safeAreaInset?.bottom||0) + (tg.contentSafeAreaInset?.bottom||0);
    document.documentElement.style.setProperty('--safe-top', top+'px');
    document.documentElement.style.setProperty('--safe-bottom', bottom+'px');
    document.querySelector('.nav').style.paddingBottom = Math.max(bottom,8)+'px';
  }
  applyInsets();
  tg.onEvent('viewportChanged', applyInsets);
  tg.onEvent('safeAreaChanged', applyInsets);
  tg.onEvent('contentSafeAreaChanged', applyInsets);
}

// â”€â”€ NAV â”€â”€
function switchPage(page, el) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  document.getElementById('page-'+page).classList.add('active');
  el.classList.add('active');
  window.scrollTo(0,0);
}

function toggleTodo(el) {
  el.querySelector('.todo-cb').classList.toggle('checked');
  el.classList.toggle('done');
}

// â”€â”€ CHART â”€â”€
const incomeData = { '2026-02-26': 80000 };
let chartWeekOffset = 0;

function getWeekDates(offset) {
  const today = new Date();
  const day = today.getDay() || 7;
  const monday = new Date(today);
  monday.setDate(today.getDate() - day + 1 + offset * 7);
  return Array.from({length:7}, (_,i) => {
    const d = new Date(monday); d.setDate(monday.getDate()+i); return d;
  });
}
function fmtKey(d) { return d.toISOString().slice(0,10); }
function fmtDay(d) { return ['ĞŸĞ½','Ğ’Ñ‚','Ğ¡Ñ€','Ğ§Ñ‚','ĞŸÑ‚','Ğ¡Ğ±','Ğ’Ñ'][(d.getDay()||7)-1]; }
function fmtK(n) { return n>=1000 ? (n/1000).toFixed(n%1000===0?0:1)+'Ğº' : n>0 ? String(n) : 'â€”'; }

function renderChart() {
  const dates = getWeekDates(chartWeekOffset);
  const todayKey = fmtKey(new Date());
  const values = dates.map(d => incomeData[fmtKey(d)]||0);
  const maxVal = Math.max(...values, 1);
  const total = values.reduce((a,b)=>a+b,0);
  const first = dates[0], last = dates[6];

  document.getElementById('chart-week-label').textContent =
    `${first.getDate()}.${String(first.getMonth()+1).padStart(2,'0')} â€“ ${last.getDate()}.${String(last.getMonth()+1).padStart(2,'0')}`;
  document.getElementById('chart-total').innerHTML =
    `Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: <span>${total.toLocaleString('ru')} â‚¸</span>`;

  const W=280, H=90, padX=18, padY=14;
  const innerW=W-padX*2, innerH=H-padY*2, step=innerW/6;
  const pts = values.map((v,i) => ({
    x: padX+i*step,
    y: padY+innerH-(v/maxVal)*innerH,
    v
  }));

  // Smooth curve
  function catmullRom(points) {
    if (points.length < 2) return '';
    let path = `M${points[0].x},${points[0].y}`;
    for (let i = 0; i < points.length - 1; i++) {
      const p0 = points[Math.max(i-1,0)];
      const p1 = points[i];
      const p2 = points[i+1];
      const p3 = points[Math.min(i+2, points.length-1)];
      const cp1x = p1.x + (p2.x-p0.x)/6;
      const cp1y = p1.y + (p2.y-p0.y)/6;
      const cp2x = p2.x - (p3.x-p1.x)/6;
      const cp2y = p2.y - (p3.y-p1.y)/6;
      path += ` C${cp1x},${cp1y} ${cp2x},${cp2y} ${p2.x},${p2.y}`;
    }
    return path;
  }

  const linePath = catmullRom(pts);
  const areaPath = linePath + ` L${pts[pts.length-1].x},${H} L${pts[0].x},${H} Z`;

  let svg = `
    <defs>
      <linearGradient id="cg" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#6366f1" stop-opacity="0.3"/>
        <stop offset="100%" stop-color="#6366f1" stop-opacity="0"/>
      </linearGradient>
    </defs>
    <path d="${areaPath}" fill="url(#cg)"/>
    <path d="${linePath}" fill="none" stroke="#6366f1" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
  `;

  pts.forEach((p,i) => {
    const isToday = fmtKey(dates[i])===todayKey;
    const hasVal = p.v>0;
    if (hasVal || isToday) {
      svg += `<circle cx="${p.x}" cy="${p.y}" r="${isToday?5:3.5}"
        fill="${isToday?'#818cf8':'#6366f1'}"
        ${isToday?'stroke="#0c0a20" stroke-width="2.5"':''}/>`;
      if (hasVal) {
        svg += `<circle cx="${p.x}" cy="${p.y}" r="8" fill="rgba(99,102,241,0.15)"/>`;
      }
    }
  });

  document.getElementById('chart-svg').innerHTML = svg;

  document.getElementById('chart-days').innerHTML = dates.map((d,i) => {
    const isToday = fmtKey(d)===todayKey;
    return `<div class="chart-day ${isToday?'today':''}">
      <div class="chart-day-name">${fmtDay(d)}</div>
      <div class="chart-day-num">${d.getDate()}</div>
      <div class="chart-day-val">${fmtK(values[i])}</div>
    </div>`;
  }).join('');
}

function chartPrev() { chartWeekOffset--; renderChart(); }
function chartNext() { if(chartWeekOffset<0){chartWeekOffset++;renderChart();} }
renderChart();

// â”€â”€ MAP DETAILS â”€â”€
const mapData = {
  kaspi: {
    title: 'ğŸ’³ ĞšĞ°ÑĞ¿Ğ¸',
    info: [{ q:'Ğ Ğ¾Ğ»ÑŒ', a:'ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ±Ğ°Ğ½Ğº â€” Ğ²ÑĞµ Ğ¿Ğ¾ÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ñ Ğ¸ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ñ‹' }],
    tasks: [{ text:'Revenue: 80,000 â‚¸', color:'#4ade80' }]
  },
  'cl-jewelry': {
    title: 'ğŸ’ Ğ®Ğ²ĞµĞ»Ğ¸Ñ€ĞºĞ°',
    info: [{ q:'ĞšÑ‚Ğ¾', a:'ĞšĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ Ñ‡ĞµÑ€ĞµĞ· ĞĞ´Ğ¸Ğ»Ñ…Ğ°Ğ½Ğ°' }, { q:'Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ', a:'ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ½Ğ°Ğ» Ğ´Ğ¾Ñ…Ğ¾Ğ´Ğ°' }],
    tasks: [{ text:'ĞšĞ°Ğ½Ğ°Ğ» Ğ°ĞºÑ‚Ğ¸Ğ²ĞµĞ½ âœ…', color:'#4ade80' }]
  },
  'cl-logistic': {
    title: 'ğŸš› ĞšĞ°Ğ·Ğ°Ñ… Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸Ğº',
    info: [{ q:'Ğ‘Ğ»Ğ¾ĞºĞµÑ€', a:'Ğ–Ğ´Ñ‘Ğ¼ Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ¾Ñ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°' }, { q:'Ğ¡Ğ´ĞµĞ»Ğ°Ğ½Ğ¾', a:'Ğ¡Ğ°Ğ¹Ñ‚ Ğ·Ğ°Ğ´ĞµĞ¿Ğ»Ğ¾ĞµĞ½ Ğ½Ğ° Cloud Run (27 Ñ„ĞµĞ²)' }],
    tasks: [{ text:'Ğ–Ğ´Ñ‘Ğ¼ Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ â³', color:'#f87171' }, { text:'Ğ¡Ğ°Ğ¹Ñ‚ Ğ·Ğ°Ğ´ĞµĞ¿Ğ»Ğ¾ĞµĞ½ âœ…', color:'#4ade80' }]
  },
  x5: {
    title: 'âš¡ x5 Marketing',
    info: [{ q:'ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ½ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶', a:'ĞĞµÑ‚ Ğ² App Store â€” ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ Ğ½Ğµ Ğ¼Ğ¾Ğ³ÑƒÑ‚ ÑĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ' }, { q:'Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ ÑˆĞ°Ğ³', a:'Ğ‘Ğ¸Ğ»Ğ´ #12 â†’ App Store' }],
    tasks: [{ text:'Ğ‘Ğ¸Ğ»Ğ´ #12 Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸ EAS', color:'#fbbf24' }, { text:'Ğ¡ĞºÑ€Ğ¸Ğ½Ñ‹ + Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ', color:'#6366f1' }]
  },
  playa: {
    title: 'ğŸª© Playa',
    info: [{ q:'Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ', a:'ĞÑ‚Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¾ â€” ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° x5 Ğ² App Store' }],
    tasks: [{ text:'Ğ–Ğ´Ñ‘Ñ‚ x5', color:'#94a3b8' }]
  },
  'wa-bot': {
    title: 'ğŸ¤– WA Bot',
    info: [{ q:'Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚', a:'ĞĞ²Ñ‚Ğ¾-Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ° + Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ° ÑĞ°Ğ¹Ñ‚Ğ¾Ğ²' }, { q:'Ğ¦ĞµĞ»ÑŒ', a:'Ğ‘Ğ¾Ñ‚ ÑĞ°Ğ¼ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ñ‘Ñ‚' }],
    tasks: [{ text:'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ¾Ñ‚Ğ°', color:'#fbbf24' }, { text:'ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºÑƒ', color:'#6366f1' }]
  },
  'exp-must': {
    title: 'ğŸ  ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ñ‹',
    info: [{ q:'Ğ§Ñ‚Ğ¾ Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚', a:'ĞÑ€ĞµĞ½Ğ´Ğ°, ĞµĞ´Ğ°, Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚, Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½' }],
    tasks: [{ text:'Ğ¡ĞºĞ°Ğ¶Ğ¸ ÑÑƒĞ¼Ğ¼Ñƒ â€” Ğ·Ğ°Ñ„Ğ¸ĞºÑĞ¸Ñ€ÑƒÑ', color:'#94a3b8' }]
  },
  'exp-biz': {
    title: 'ğŸ“ˆ Ğ Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ Ğ½Ğ° Ğ±Ğ¸Ğ·Ğ½ĞµÑ',
    info: [{ q:'Ğ§Ñ‚Ğ¾ Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚', a:'OpenClaw, Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹, Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°' }],
    tasks: [{ text:'Ğ¡ĞºĞ°Ğ¶Ğ¸ ÑÑƒĞ¼Ğ¼Ñƒ â€” Ğ·Ğ°Ñ„Ğ¸ĞºÑĞ¸Ñ€ÑƒÑ', color:'#94a3b8' }]
  },
  'exp-wish': {
    title: 'âœ¨ ĞĞ° Ğ¶ĞµĞ»Ğ°Ğ½Ğ¸Ñ',
    info: [{ q:'ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾', a:'10% Ğ¾Ñ‚ Ğ²ÑĞµÑ… Ğ´Ğ¾Ñ…Ğ¾Ğ´Ğ¾Ğ²' }, { q:'Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ', a:'8,000 â‚¸' }],
    tasks: [{ text:'8,000 â‚¸ Ğ½Ğ° Ğ¶ĞµĞ»Ğ°Ğ½Ğ¸Ñ', color:'#fbbf24' }]
  },
  openclaw: {
    title: 'ğŸ¤– OpenClaw',
    info: [{ q:'Ğ Ğ¾Ğ»ÑŒ', a:'Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸ Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°Ğ¼Ğ¸' }, { q:'Ğ¦ĞµĞ»ÑŒ', a:'ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ Evil Morty' }],
    tasks: [{ text:'Evil Morty â€” online âœ…', color:'#4ade80' }, { text:'Worker 1 â€” Ğ³Ğ¾Ñ‚Ğ¾Ğ²', color:'#6366f1' }]
  },
  vscode: {
    title: 'ğŸ’» VS Code',
    info: [{ q:'Ğ Ğ¾Ğ»ÑŒ', a:'Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°: ÑĞ°Ğ¹Ñ‚Ñ‹, Ğ±Ğ¾Ñ‚Ñ‹, Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ' }],
    tasks: [{ text:'x5-marketing-expo â€” Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ', color:'#fbbf24' }]
  },
  energy: {
    title: 'âš¡ Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ â€” Ğ”Ğ¸Ğ°Ñ',
    info: [{ q:'Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾', a:'Ğ¤Ğ¾ĞºÑƒÑ, Ğ²Ñ€ĞµĞ¼Ñ, Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ°Ñ ÑĞ¸Ğ»Ğ° â€” Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ñ€ĞµÑÑƒÑ€Ñ' }, { q:'Ğ¦ĞµĞ»ÑŒ', a:'ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ñ‚Ñ€ÑƒĞ´ â†’ Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ Ğ½Ğ° ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ' }],
    tasks: [{ text:'ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ÑƒÑ‚Ğ¸Ğ½Ñƒ', color:'#fbbf24' }, { text:'Ğ”ĞµĞ»ĞµĞ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ´ Ğ²Ğ¾Ñ€ĞºĞµÑ€Ğ°Ğ¼', color:'#6366f1' }]
  }
};

function showDetail(key) {
  const d = mapData[key];
  if (!d) return;
  const panel = document.getElementById('map-detail');
  document.getElementById('detail-title-text').textContent = d.title;

  document.getElementById('detail-body').innerHTML = d.info.map(i =>
    `<div class="detail-row"><div class="detail-q">${i.q}</div><div class="detail-a">${i.a}</div></div>`
  ).join('');

  document.getElementById('detail-tasks').innerHTML =
    '<div class="detail-tasks-label">Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸</div>' +
    d.tasks.map(t => `<div class="detail-task"><div class="detail-task-dot" style="background:${t.color}"></div>${t.text}</div>`).join('');

  panel.classList.add('open');
  setTimeout(() => panel.scrollIntoView({behavior:'smooth',block:'nearest'}), 50);
}

function closeDetail() {
  document.getElementById('map-detail').classList.remove('open');
}
</script>
</body>
</html>
